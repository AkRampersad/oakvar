(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const de={};function Al(t){de.context=t}const Nl=(t,e)=>t===e,Ee=Symbol("solid-proxy"),cr=Symbol("solid-track"),_n={equals:Nl};let ki=Ei;const Re=1,wn=2,$i={owned:null,cleanups:null,context:null,owner:null},Gn={};var le=null;let nt=null,ne=null,ae=null,Ce=null,Nr=0;function re(t,e){const n=ne,r=le,s=t.length===0,i=s?$i:{owned:null,cleanups:null,context:null,owner:e||r},o=s?t:()=>t(()=>Ae(()=>Or(i)));le=i,ne=null;try{return Ge(o,!0)}finally{ne=n,le=r}}function x(t,e){e=e?Object.assign({},_n,e):_n;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Ti(n,s));return[Ci.bind(n),r]}function as(t,e,n){const r=On(t,e,!0,Re);xt(r)}function E(t,e,n){const r=On(t,e,!1,Re);xt(r)}function se(t,e,n){ki=Ll;const r=On(t,e,!1,Re);r.user=!0,Ce?Ce.push(r):xt(r)}function be(t,e,n){n=n?Object.assign({},_n,n):_n;const r=On(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,xt(r),Ci.bind(r)}function Jt(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i=n||{});let o=null,l=Gn,c=null,a=!1,u="initialValue"in i,g=typeof r=="function"&&be(r);const p=new Set,[h,m]=(i.storage||x)(i.initialValue),[v,b]=x(void 0),[y,_]=x(void 0,{equals:!1}),[k,I]=x(u?"ready":"unresolved");if(de.context){c=`${de.context.id}${de.context.count++}`;let N;i.ssrLoadFrom==="initial"?l=i.initialValue:de.load&&(N=de.load(c))&&(l=N[0])}function S(N,R,P,D){return o===N&&(o=null,u=!0,(N===l||R===l)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(D,{value:R})),l=Gn,T(R,P)),R}function T(N,R){Ge(()=>{R||m(()=>N),I(R?"errored":"ready"),b(R);for(const P of p.keys())P.decrement();p.clear()},!1)}function A(){const N=Pl,R=h(),P=v();if(P&&!o)throw P;return ne&&!ne.user&&N&&as(()=>{y(),o&&(N.resolved||p.has(N)||(N.increment(),p.add(N)))}),R}function C(N=!0){if(N!==!1&&a)return;a=!1;const R=g?g():r;if(R==null||R===!1){S(o,Ae(h));return}const P=l!==Gn?l:Ae(()=>s(R,{value:h(),refetching:N}));return typeof P!="object"||!(P&&"then"in P)?(S(o,P),P):(o=P,a=!0,queueMicrotask(()=>a=!1),Ge(()=>{I(u?"refreshing":"pending"),_()},!1),P.then(D=>S(P,D,void 0,R),D=>S(P,void 0,Ni(D))))}return Object.defineProperties(A,{state:{get:()=>k()},error:{get:()=>v()},loading:{get(){const N=k();return N==="pending"||N==="refreshing"}},latest:{get(){if(!u)return A();const N=v();if(N&&!o)throw N;return h()}}}),g?as(()=>C(!1)):C(!1),[A,{refetch:C,mutate:m}]}function Ol(t){return Ge(t,!1)}function Ae(t){const e=ne;ne=null;try{return t()}finally{ne=e}}function Si(t){return le===null||(le.cleanups===null?le.cleanups=[t]:le.cleanups.push(t)),t}function Ii(){return ne}function Rl(t){const e=be(t),n=be(()=>ur(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Pl;function Ci(){const t=nt;if(this.sources&&(this.state||t))if(this.state===Re||t)xt(this);else{const e=ae;ae=null,Ge(()=>kn(this),!1),ae=e}if(ne){const e=this.observers?this.observers.length:0;ne.sources?(ne.sources.push(this),ne.sourceSlots.push(e)):(ne.sources=[this],ne.sourceSlots=[e]),this.observers?(this.observers.push(ne),this.observerSlots.push(ne.sources.length-1)):(this.observers=[ne],this.observerSlots=[ne.sources.length-1])}return this.value}function Ti(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Ge(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],o=nt&&nt.running;o&&nt.disposed.has(i),(o&&!i.tState||!o&&!i.state)&&(i.pure?ae.push(i):Ce.push(i),i.observers&&Ai(i)),o||(i.state=Re)}if(ae.length>1e6)throw ae=[],new Error},!1)),e}function xt(t){if(!t.fn)return;Or(t);const e=le,n=ne,r=Nr;ne=le=t,Dl(t,t.value,r),ne=n,le=e}function Dl(t,e,n){let r;try{r=t.fn(e)}catch(s){t.pure&&(t.state=Re),Oi(s)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Ti(t,r):t.value=r,t.updatedAt=n)}function On(t,e,n,r=Re,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:le,context:null,pure:n};return le===null||le!==$i&&(le.owned?le.owned.push(i):le.owned=[i]),i}function xn(t){const e=nt;if(t.state===0||e)return;if(t.state===wn||e)return kn(t);if(t.suspense&&Ae(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Nr);)(t.state||e)&&n.push(t);for(let r=n.length-1;r>=0;r--)if(t=n[r],t.state===Re||e)xt(t);else if(t.state===wn||e){const s=ae;ae=null,Ge(()=>kn(t,n[0]),!1),ae=s}}function Ge(t,e){if(ae)return t();let n=!1;e||(ae=[]),Ce?n=!0:Ce=[],Nr++;try{const r=t();return Ml(n),r}catch(r){ae||(Ce=null),Oi(r)}}function Ml(t){if(ae&&(Ei(ae),ae=null),t)return;const e=Ce;Ce=null,e.length&&Ge(()=>ki(e),!1)}function Ei(t){for(let e=0;e<t.length;e++)xn(t[e])}function Ll(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:xn(r)}for(de.context&&Al(),e=0;e<n;e++)xn(t[e])}function kn(t,e){const n=nt;t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];s.sources&&(s.state===Re||n?s!==e&&xn(s):(s.state===wn||n)&&kn(s,e))}}function Ai(t){const e=nt;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!r.state||e)&&(r.state=wn,r.pure?ae.push(r):Ce.push(r),r.observers&&Ai(r))}}function Or(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(t.owned){for(e=0;e<t.owned.length;e++)Or(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function Ni(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function Oi(t){throw t=Ni(t),t}function ur(t){if(typeof t=="function"&&!t.length)return ur(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=ur(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}const Ul=Symbol("fallback");function cs(t){for(let e=0;e<t.length;e++)t[e]()}function jl(t,e,n={}){let r=[],s=[],i=[],o=0,l=e.length>1?[]:null;return Si(()=>cs(i)),()=>{let c=t()||[],a,u;return c[cr],Ae(()=>{let p=c.length,h,m,v,b,y,_,k,I,S;if(p===0)o!==0&&(cs(i),i=[],r=[],s=[],o=0,l&&(l=[])),n.fallback&&(r=[Ul],s[0]=re(T=>(i[0]=T,n.fallback())),o=1);else if(o===0){for(s=new Array(p),u=0;u<p;u++)r[u]=c[u],s[u]=re(g);o=p}else{for(v=new Array(p),b=new Array(p),l&&(y=new Array(p)),_=0,k=Math.min(o,p);_<k&&r[_]===c[_];_++);for(k=o-1,I=p-1;k>=_&&I>=_&&r[k]===c[I];k--,I--)v[I]=s[k],b[I]=i[k],l&&(y[I]=l[k]);for(h=new Map,m=new Array(I+1),u=I;u>=_;u--)S=c[u],a=h.get(S),m[u]=a===void 0?-1:a,h.set(S,u);for(a=_;a<=k;a++)S=r[a],u=h.get(S),u!==void 0&&u!==-1?(v[u]=s[a],b[u]=i[a],l&&(y[u]=l[a]),u=m[u],h.set(S,u)):i[a]();for(u=_;u<p;u++)u in v?(s[u]=v[u],i[u]=b[u],l&&(l[u]=y[u],l[u](u))):s[u]=re(g);s=s.slice(0,o=p),r=c.slice(0)}return s});function g(p){if(i[u]=p,l){const[h,m]=x(u);return l[u]=m,e(c[u],h)}return e(c[u])}}}function f(t,e){return Ae(()=>t(e||{}))}function ln(){return!0}const Fl={get(t,e,n){return e===Ee?n:t.get(e)},has(t,e){return t.has(e)},set:ln,deleteProperty:ln,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:ln,deleteProperty:ln}},ownKeys(t){return t.keys()}};function Kn(t){return(t=typeof t=="function"?t():t)?t:{}}function zl(...t){if(t.some(n=>n&&(Ee in n||typeof n=="function")))return new Proxy({get(n){for(let r=t.length-1;r>=0;r--){const s=Kn(t[r])[n];if(s!==void 0)return s}},has(n){for(let r=t.length-1;r>=0;r--)if(n in Kn(t[r]))return!0;return!1},keys(){const n=[];for(let r=0;r<t.length;r++)n.push(...Object.keys(Kn(t[r])));return[...new Set(n)]}},Fl);const e={};for(let n=t.length-1;n>=0;n--)if(t[n]){const r=Object.getOwnPropertyDescriptors(t[n]);for(const s in r)s in e||Object.defineProperty(e,s,{enumerable:!0,get(){for(let i=t.length-1;i>=0;i--){const o=(t[i]||{})[s];if(o!==void 0)return o}}})}return e}function oe(t){const e="fallback"in t&&{fallback:()=>t.fallback};return be(jl(()=>t.each,t.children,e||void 0))}function z(t){let e=!1;const n=t.keyed,r=be(()=>t.when,void 0,{equals:(s,i)=>e?s===i:!s==!i});return be(()=>{const s=r();if(s){const i=t.children,o=typeof i=="function"&&i.length>0;return e=n||o,o?Ae(()=>i(s)):i}return t.fallback})}function Rr(t){let e=!1,n=!1;const r=Rl(()=>t.children),s=be(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let o=0;o<i.length;o++){const l=i[o].when;if(l)return n=!!i[o].keyed,[o,l,i[o]]}return[-1]},void 0,{equals:(i,o)=>i[0]===o[0]&&(e?i[1]===o[1]:!i[1]==!o[1])&&i[2]===o[2]});return be(()=>{const[i,o,l]=s();if(i<0)return t.fallback;const c=l.children,a=typeof c=="function"&&c.length>0;return e=n||a,a?Ae(()=>c(o)):c})}function bt(t){return t}const Bl=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Hl=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Bl]),Vl=new Set(["innerHTML","textContent","innerText","children"]),Wl=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),us=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),ql=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Jl={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Gl(t,e,n){let r=n.length,s=e.length,i=r,o=0,l=0,c=e[s-1].nextSibling,a=null;for(;o<s||l<i;){if(e[o]===n[l]){o++,l++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===o){const u=i<r?l?n[l-1].nextSibling:n[i-l]:c;for(;l<i;)t.insertBefore(n[l++],u)}else if(i===l)for(;o<s;)(!a||!a.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[l]===e[s-1]){const u=e[--s].nextSibling;t.insertBefore(n[l++],e[o++].nextSibling),t.insertBefore(n[--i],u),e[s]=n[i]}else{if(!a){a=new Map;let g=l;for(;g<i;)a.set(n[g],g++)}const u=a.get(e[o]);if(u!=null)if(l<u&&u<i){let g=o,p=1,h;for(;++g<s&&g<i&&!((h=a.get(e[g]))==null||h!==u+p);)p++;if(p>u-l){const m=e[o];for(;l<u;)t.insertBefore(n[l++],m)}else t.replaceChild(n[l++],e[o++])}else o++;else e[o++].remove()}}}const ds="_$DX_DELEGATE";function Kl(t,e,n,r={}){let s;return re(i=>{s=i,e===document?t():d(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function w(t,e,n){const r=document.createElement("template");r.innerHTML=t;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function j(t,e=window.document){const n=e[ds]||(e[ds]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,ea))}}function V(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ql(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function Pr(t,e){e==null?t.removeAttribute("class"):t.className=e}function Rn(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n)}function Dr(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const l=s[i];!l||l==="undefined"||e[l]||(fs(t,l,!1),delete n[l])}for(i=0,o=r.length;i<o;i++){const l=r[i],c=!!e[l];!l||l==="undefined"||n[l]===c||!c||(fs(t,l,!0),n[l]=c)}return n}function Ri(t,e,n){if(!e)return n?V(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function Xl(t,e={},n,r){const s={};return r||E(()=>s.children=vt(t,e.children,s.children)),E(()=>e.ref&&e.ref(t)),E(()=>Yl(t,e,n,!0,s,!0)),s}function Mr(t,e,n){return Ae(()=>t(e,n))}function d(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return vt(t,e,r,n);E(s=>vt(t,e(),s,n),r)}function Yl(t,e,n,r,s={},i=!1){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;s[o]=hs(t,o,null,s[o],n,i)}for(const o in e){if(o==="children"){r||vt(t,e.children);continue}const l=e[o];s[o]=hs(t,o,l,s[o],n,i)}}function Zl(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function fs(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function hs(t,e,n,r,s,i){let o,l,c;if(e==="style")return Ri(t,n,r);if(e==="classList")return Dr(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const a=e.slice(3);r&&t.removeEventListener(a,r),n&&t.addEventListener(a,n)}else if(e.slice(0,10)==="oncapture:"){const a=e.slice(10);r&&t.removeEventListener(a,r,!0),n&&t.addEventListener(a,n,!0)}else if(e.slice(0,2)==="on"){const a=e.slice(2).toLowerCase(),u=ql.has(a);if(!u&&r){const g=Array.isArray(r)?r[0]:r;t.removeEventListener(a,g)}(u||n)&&(Rn(t,a,n,u),u&&j([a]))}else if((c=Vl.has(e))||!s&&(us[e]||(l=Hl.has(e)))||(o=t.nodeName.includes("-")))e==="class"||e==="className"?Pr(t,n):o&&!l&&!c?t[Zl(e)]=n:t[us[e]||e]=n;else{const a=s&&e.indexOf(":")>-1&&Jl[e.split(":")[0]];a?Ql(t,a,e,n):V(t,Wl[e]||e,n)}return n}function ea(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),de.registry&&!de.done&&(de.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function vt(t,e,n,r,s){for(de.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(de.context)return n;if(i==="number"&&(e=e.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=e:l=document.createTextNode(e),n=ut(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean"){if(de.context)return n;n=ut(t,n,r)}else{if(i==="function")return E(()=>{let l=e();for(;typeof l=="function";)l=l();n=vt(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],c=n&&Array.isArray(n);if(dr(l,e,n,s))return E(()=>n=vt(t,l,n,r,!0)),()=>n;if(de.context){if(!l.length)return n;for(let a=0;a<l.length;a++)if(l[a].parentNode)return n=l}if(l.length===0){if(n=ut(t,n,r),o)return n}else c?n.length===0?gs(t,l,r):Gl(t,n,l):(n&&ut(t),gs(t,l));n=l}else if(e instanceof Node){if(de.context&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=ut(t,n,r,e);ut(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function dr(t,e,n,r){let s=!1;for(let i=0,o=e.length;i<o;i++){let l=e[i],c=n&&n[i];if(l instanceof Node)t.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))s=dr(t,l,c)||s;else if(typeof l=="function")if(r){for(;typeof l=="function";)l=l();s=dr(t,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||s}else t.push(l),s=!0;else{const a=String(l);c&&c.nodeType===3&&c.data===a?t.push(c):t.push(document.createTextNode(a))}}return s}function gs(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function ut(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(s!==l){const c=l.parentNode===t;!i&&!o?c?t.replaceChild(s,l):t.insertBefore(s,n):c&&l.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const ta=!1;function Pi(t,e){return function(){return t.apply(e,arguments)}}const{toString:Di}=Object.prototype,{getPrototypeOf:Lr}=Object,Ur=(t=>e=>{const n=Di.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pe=t=>(t=t.toLowerCase(),e=>Ur(e)===t),Pn=t=>e=>typeof e===t,{isArray:Gt}=Array,fr=Pn("undefined");function na(t){return t!==null&&!fr(t)&&t.constructor!==null&&!fr(t.constructor)&&kt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mi=Pe("ArrayBuffer");function ra(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mi(t.buffer),e}const sa=Pn("string"),kt=Pn("function"),Li=Pn("number"),Ui=t=>t!==null&&typeof t=="object",ia=t=>t===!0||t===!1,fn=t=>{if(Ur(t)!=="object")return!1;const e=Lr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oa=Pe("Date"),la=Pe("File"),aa=Pe("Blob"),ca=Pe("FileList"),ua=t=>Ui(t)&&kt(t.pipe),da=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Di.call(t)===e||kt(t.toString)&&t.toString()===e)},fa=Pe("URLSearchParams"),ha=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Gt(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function hr(){const t={},e=(n,r)=>{fn(t[r])&&fn(n)?t[r]=hr(t[r],n):fn(n)?t[r]=hr({},n):Gt(n)?t[r]=n.slice():t[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Dn(arguments[n],e);return t}const ga=(t,e,n,{allOwnKeys:r}={})=>(Dn(e,(s,i)=>{n&&kt(s)?t[i]=Pi(s,n):t[i]=s},{allOwnKeys:r}),t),ma=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pa=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ba=(t,e,n,r)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Lr(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},va=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ya=t=>{if(!t)return null;if(Gt(t))return t;let e=t.length;if(!Li(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_a=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lr(Uint8Array)),wa=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},xa=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ka=Pe("HTMLFormElement"),$a=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ms=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Sa=Pe("RegExp"),ji=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dn(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},Ia=t=>{ji(t,(e,n)=>{const r=t[n];if(!!kt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},Ca=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Gt(t)?r(t):r(String(t).split(e)),n},Ta=()=>{},Ea=(t,e)=>(t=+t,Number.isFinite(t)?t:e),$={isArray:Gt,isArrayBuffer:Mi,isBuffer:na,isFormData:da,isArrayBufferView:ra,isString:sa,isNumber:Li,isBoolean:ia,isObject:Ui,isPlainObject:fn,isUndefined:fr,isDate:oa,isFile:la,isBlob:aa,isRegExp:Sa,isFunction:kt,isStream:ua,isURLSearchParams:fa,isTypedArray:_a,isFileList:ca,forEach:Dn,merge:hr,extend:ga,trim:ha,stripBOM:ma,inherits:pa,toFlatObject:ba,kindOf:Ur,kindOfTest:Pe,endsWith:va,toArray:ya,forEachEntry:wa,matchAll:xa,isHTMLForm:ka,hasOwnProperty:ms,hasOwnProp:ms,reduceDescriptors:ji,freezeMethods:Ia,toObjectSet:Ca,toCamelCase:$a,noop:Ta,toFiniteNumber:Ea};function q(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}$.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fi=q.prototype,zi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zi[t]={value:t}});Object.defineProperties(q,zi);Object.defineProperty(Fi,"isAxiosError",{value:!0});q.from=(t,e,n,r,s,i)=>{const o=Object.create(Fi);return $.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),q.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};var Aa=typeof self=="object"?self.FormData:window.FormData;function gr(t){return $.isPlainObject(t)||$.isArray(t)}function Bi(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function ps(t,e,n){return t?t.concat(e).map(function(s,i){return s=Bi(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Na(t){return $.isArray(t)&&!t.some(gr)}const Oa=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Ra(t){return t&&$.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Mn(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new(Aa||FormData),n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!$.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ra(e);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function a(m){if(m===null)return"";if($.isDate(m))return m.toISOString();if(!c&&$.isBlob(m))throw new q("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(m)||$.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,b){let y=m;if(m&&!b&&typeof m=="object"){if($.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if($.isArray(m)&&Na(m)||$.isFileList(m)||$.endsWith(v,"[]")&&(y=$.toArray(m)))return v=Bi(v),y.forEach(function(k,I){!($.isUndefined(k)||k===null)&&e.append(o===!0?ps([v],I,i):o===null?v:v+"[]",a(k))}),!1}return gr(m)?!0:(e.append(ps(b,v,i),a(m)),!1)}const g=[],p=Object.assign(Oa,{defaultVisitor:u,convertValue:a,isVisitable:gr});function h(m,v){if(!$.isUndefined(m)){if(g.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));g.push(m),$.forEach(m,function(y,_){(!($.isUndefined(y)||y===null)&&s.call(e,y,$.isString(_)?_.trim():_,v,p))===!0&&h(y,v?v.concat(_):[_])}),g.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return h(t),e}function bs(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jr(t,e){this._pairs=[],t&&Mn(t,this,e)}const Hi=jr.prototype;Hi.append=function(e,n){this._pairs.push([e,n])};Hi.toString=function(e){const n=e?function(r){return e.call(this,r,bs)}:bs;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Pa(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vi(t,e,n){if(!e)return t;const r=n&&n.encode||Pa,s=n&&n.serialize;let i;if(s?i=s(e,n):i=$.isURLSearchParams(e)?e.toString():new jr(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class vs{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Wi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Da=typeof URLSearchParams<"u"?URLSearchParams:jr,Ma=FormData,La=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Te={isBrowser:!0,classes:{URLSearchParams:Da,FormData:Ma,Blob},isStandardBrowserEnv:La,protocols:["http","https","file","blob","url","data"]};function Ua(t,e){return Mn(t,new Te.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Te.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function ja(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fa(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function qi(t){function e(n,r,s,i){let o=n[i++];const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,c?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=Fa(s[o])),!l)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,s)=>{e(ja(r),s,n,0)}),n}return null}function za(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ba=Te.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,l){const c=[];c.push(n+"="+encodeURIComponent(r)),$.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),$.isString(i)&&c.push("path="+i),$.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ha(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Va(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Ji(t,e){return t&&!Ha(e)?Va(t,e):e}const Wa=Te.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const l=$.isString(o)?s(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Kt(t,e,n){q.call(this,t??"canceled",q.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(Kt,q,{__CANCEL__:!0});function qa(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const Ja=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ga=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Ja[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ys=Symbol("internals"),Gi=Symbol("defaults");function Rt(t){return t&&String(t).trim().toLowerCase()}function hn(t){return t===!1||t==null?t:$.isArray(t)?t.map(hn):String(t)}function Ka(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function _s(t,e,n,r){if($.isFunction(r))return r.call(this,e,n);if(!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function Qa(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Xa(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}function Ot(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}function pe(t,e){t&&this.set(t),this[Gi]=e||null}Object.assign(pe.prototype,{set:function(t,e,n){const r=this;function s(i,o,l){const c=Rt(o);if(!c)throw new Error("header name must be a non-empty string");const a=Ot(r,c);a&&l!==!0&&(r[a]===!1||l===!1)||(r[a||o]=hn(i))}return $.isPlainObject(t)?$.forEach(t,(i,o)=>{s(i,o,e)}):s(e,t,n),this},get:function(t,e){if(t=Rt(t),!t)return;const n=Ot(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return Ka(r);if($.isFunction(e))return e.call(this,r,n);if($.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=Rt(t),t){const n=Ot(this,t);return!!(n&&(!e||_s(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let r=!1;function s(i){if(i=Rt(i),i){const o=Ot(n,i);o&&(!e||_s(n,n[o],o,e))&&(delete n[o],r=!0)}}return $.isArray(t)?t.forEach(s):s(t),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return $.forEach(this,(r,s)=>{const i=Ot(n,s);if(i){e[i]=hn(r),delete e[s];return}const o=t?Qa(s):String(s).trim();o!==s&&delete e[s],e[o]=hn(r),n[o]=!0}),this},toJSON:function(t){const e=Object.create(null);return $.forEach(Object.assign({},this[Gi]||null,this),(n,r)=>{n==null||n===!1||(e[r]=t&&$.isArray(n)?n.join(", "):n)}),e}});Object.assign(pe,{from:function(t){return $.isString(t)?new this(Ga(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[ys]=this[ys]={accessors:{}}).accessors,r=this.prototype;function s(i){const o=Rt(i);n[o]||(Xa(r,i),n[o]=!0)}return $.isArray(t)?t.forEach(s):s(t),this}});pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);$.freezeMethods(pe.prototype);$.freezeMethods(pe);function Ya(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const a=Date.now(),u=r[i];o||(o=a),n[s]=c,r[s]=a;let g=i,p=0;for(;g!==s;)p+=n[g++],g=g%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),a-o<e)return;const h=u&&a-u;return h?Math.round(p*1e3/h):void 0}}function ws(t,e){let n=0;const r=Ya(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,l=i-n,c=r(l),a=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&a?(o-i)/c:void 0};u[e?"download":"upload"]=!0,t(u)}}function xs(t){return new Promise(function(n,r){let s=t.data;const i=pe.from(t.headers).normalize(),o=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}$.isFormData(s)&&Te.isStandardBrowserEnv&&i.setContentType(!1);let a=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+m))}const u=Ji(t.baseURL,t.url);a.open(t.method.toUpperCase(),Vi(u,t.params,t.paramsSerializer),!0),a.timeout=t.timeout;function g(){if(!a)return;const h=pe.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:h,config:t,request:a};za(function(y){n(y),c()},function(y){r(y),c()},v),a=null}if("onloadend"in a?a.onloadend=g:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(g)},a.onabort=function(){!a||(r(new q("Request aborted",q.ECONNABORTED,t,a)),a=null)},a.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,t,a)),a=null},a.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||Wi;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new q(m,v.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,a)),a=null},Te.isStandardBrowserEnv){const h=(t.withCredentials||Wa(u))&&t.xsrfCookieName&&Ba.read(t.xsrfCookieName);h&&i.set(t.xsrfHeaderName,h)}s===void 0&&i.setContentType(null),"setRequestHeader"in a&&$.forEach(i.toJSON(),function(m,v){a.setRequestHeader(v,m)}),$.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),o&&o!=="json"&&(a.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",ws(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",ws(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=h=>{!a||(r(!h||h.type?new Kt(null,t,a):h),a.abort(),a=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=qa(u);if(p&&Te.protocols.indexOf(p)===-1){r(new q("Unsupported protocol "+p+":",q.ERR_BAD_REQUEST,t));return}a.send(s||null)})}const ks={http:xs,xhr:xs},$s={getAdapter:t=>{if($.isString(t)){const e=ks[t];if(!t)throw Error($.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!$.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:ks},Za={"Content-Type":"application/x-www-form-urlencoded"};function ec(){let t;return typeof XMLHttpRequest<"u"?t=$s.getAdapter("xhr"):typeof process<"u"&&$.kindOf(process)==="process"&&(t=$s.getAdapter("http")),t}function tc(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const $t={transitional:Wi,adapter:ec(),transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(e);if(i&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return s&&s?JSON.stringify(qi(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ua(e,this.formSerializer).toString();if((l=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mn(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tc(e)):e}],transformResponse:[function(e){const n=this.transitional||$t.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&$.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?q.from(l,q.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(e){$t.headers[e]={}});$.forEach(["post","put","patch"],function(e){$t.headers[e]=$.merge(Za)});function Qn(t,e){const n=this||$t,r=e||n,s=pe.from(r.headers);let i=r.data;return $.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ki(t){return!!(t&&t.__CANCEL__)}function Xn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kt}function Ss(t){return Xn(t),t.headers=pe.from(t.headers),t.data=Qn.call(t,t.transformRequest),(t.adapter||$t.adapter)(t).then(function(r){return Xn(t),r.data=Qn.call(t,t.transformResponse,r),r.headers=pe.from(r.headers),r},function(r){return Ki(r)||(Xn(t),r&&r.response&&(r.response.data=Qn.call(t,t.transformResponse,r.response),r.response.headers=pe.from(r.response.headers))),Promise.reject(r)})}function jt(t,e){e=e||{};const n={};function r(a,u){return $.isPlainObject(a)&&$.isPlainObject(u)?$.merge(a,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function s(a){if($.isUndefined(e[a])){if(!$.isUndefined(t[a]))return r(void 0,t[a])}else return r(t[a],e[a])}function i(a){if(!$.isUndefined(e[a]))return r(void 0,e[a])}function o(a){if($.isUndefined(e[a])){if(!$.isUndefined(t[a]))return r(void 0,t[a])}else return r(void 0,e[a])}function l(a){if(a in e)return r(t[a],e[a]);if(a in t)return r(void 0,t[a])}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return $.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const g=c[u]||s,p=g(u);$.isUndefined(p)&&g!==l||(n[u]=p)}),n}const Qi="1.1.3",Fr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fr[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Is={};Fr.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Qi+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new q(s(o," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Is[o]&&(Is[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};function nc(t,e,n){if(typeof t!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new q("option "+i+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+i,q.ERR_BAD_OPTION)}}const mr={assertOptions:nc,validators:Fr},je=mr.validators;class rt{constructor(e){this.defaults=e,this.interceptors={request:new vs,response:new vs}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jt(this.defaults,n);const{transitional:r,paramsSerializer:s}=n;r!==void 0&&mr.assertOptions(r,{silentJSONParsing:je.transitional(je.boolean),forcedJSONParsing:je.transitional(je.boolean),clarifyTimeoutError:je.transitional(je.boolean)},!1),s!==void 0&&mr.assertOptions(s,{encode:je.function,serialize:je.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();const i=n.headers&&$.merge(n.headers.common,n.headers[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],function(m){delete n.headers[m]}),n.headers=new pe(n.headers,i);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let a,u=0,g;if(!l){const h=[Ss.bind(this),void 0];for(h.unshift.apply(h,o),h.push.apply(h,c),g=h.length,a=Promise.resolve(n);u<g;)a=a.then(h[u++],h[u++]);return a}g=o.length;let p=n;for(u=0;u<g;){const h=o[u++],m=o[u++];try{p=h(p)}catch(v){m.call(this,v);break}}try{a=Ss.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,g=c.length;u<g;)a=a.then(c[u++],c[u++]);return a}getUri(e){e=jt(this.defaults,e);const n=Ji(e.baseURL,e.url);return Vi(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){rt.prototype[e]=function(n,r){return this.request(jt(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,l){return this.request(jt(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}rt.prototype[e]=n(),rt.prototype[e+"Form"]=n(!0)});class zr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new Kt(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new zr(function(s){e=s}),cancel:e}}}function rc(t){return function(n){return t.apply(null,n)}}function sc(t){return $.isObject(t)&&t.isAxiosError===!0}function Xi(t){const e=new rt(t),n=Pi(rt.prototype.request,e);return $.extend(n,rt.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Xi(jt(t,s))},n}const F=Xi($t);F.Axios=rt;F.CanceledError=Kt;F.CancelToken=zr;F.isCancel=Ki;F.VERSION=Qi;F.toFormData=Mn;F.AxiosError=q;F.Cancel=F.CanceledError;F.all=function(e){return Promise.all(e)};F.spread=rc;F.isAxiosError=sc;F.formToJSON=t=>qi($.isHTMLForm(t)?new FormData(t):t);const Cs="http://0.0.0.0:3000",ic="http://0.0.0.0:8080",Yi="/ws",oc="ws://0.0.0.0:8080"+Yi,Ts=window.location.origin,Es=window.location.protocol,lc=window.location.host;let pr;Es=="http:"?pr="ws://":Es=="https:"&&(pr="wss://");function ac(){let t,e;Ts==Cs?(t=ic,e=oc):(t="",e=pr+lc+Yi);const n=Ts==Cs;return{serverUrl:t,withCredentials:n,wsUrl:e}}const W=re(ac);function cc(){const[t,e]=x(!1),[n,r]=x(!1);return{logged:t,setLogged:e,admin:n,setAdmin:r}}const $e=re(cc);function uc(){const[t,e]=x(!1);return{multiuser:t,setMultiuser:e}}const De=re(uc);function dc(){const[t,e]=x(!0);return{appLoading:t,setAppLoading:e}}const Ln=re(dc);function fc(){const[t,e]=x(!1);return{systemSetupNeeded:t,setSystemSetupNeeded:e}}const Zi=re(fc);function hc(){const[t,e]=x("home");return{tabName:t,setTabName:e}}const lt=re(hc),gc=w('<a id="tabhead_{props.tabName}" href="#" class="tabhead"></a>');function St(t){const{tabName:e,setTabName:n}=lt;return(()=>{const r=gc.cloneNode(!0);return r.$$click=()=>n(t.tabName),d(r,()=>t.svg,null),d(r,()=>t.title,null),E(()=>r.classList.toggle("selected",e()==t.tabName)),r})()}j(["click"]);const mc=w('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),pc=w("<title></title>");function J(t,e){const n=zl(t.a,e);return(()=>{const r=mc.cloneNode(!0);return Xl(r,n,!0,!0),d(r,()=>ta,null),d(r,(()=>{const s=be(()=>!!e.title,!0);return()=>s()&&(()=>{const i=pc.cloneNode(!0);return d(i,()=>e.title),i})()})(),null),E(s=>{const i=t.a.stroke,o={...e.style,overflow:"visible",color:e.color||"currentColor"},l=e.size||"1em",c=e.size||"1em",a=t.c;return i!==s._v$&&V(r,"stroke",s._v$=i),s._v$2=Ri(r,o,s._v$2),l!==s._v$3&&V(r,"height",s._v$3=l),c!==s._v$4&&V(r,"width",s._v$4=c),a!==s._v$5&&(r.innerHTML=s._v$5=a),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function bc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>'},t)}function vc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>'},t)}function yc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>'},t)}function Un(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>'},t)}function _c(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>'},t)}function wc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>'},t)}function xc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>'},t)}function kc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>'},t)}function $c(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>'},t)}function Sc(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>'},t)}function Ic(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>'},t)}function eo(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>'},t)}function Cc(){const t=f(xc,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(St,{tabName:"home",title:"Home",svg:t})}function Tc(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 13L5 9l4-4M5 9h11a4 4 0 010 8h-1"/>'},t)}function Ec(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM12 11v6"/><path d="M9.5 13.5L12 11l2.5 2.5"/>'},t)}function Ac(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M12 12H6a3 3 0 01-3-3V7c0-1.083.574-2.033 1.435-2.56M8 4h10a3 3 0 013 3v2a3 3 0 01-3 3h-2M16 12h2a3 3 0 013 3v2m-1.448 2.568A2.986 2.986 0 0118 20H6a3 3 0 01-3-3v-2a3 3 0 013-3h6M7 8v.01M7 16v.01M3 3l18 18"/>'},t)}function Nc(){const t=f(Ec,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(St,{tabName:"submit",title:"Submit",svg:t})}function Oc(t){return J({a:{viewBox:"0 0 1024 1024"},c:'<path d="M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"/><path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"/>'},t)}function Rc(t){return J({a:{viewBox:"0 0 1024 1024"},c:'<path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"/>'},t)}function Pc(){const t=f(Rc,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(St,{tabName:"jobs",title:"Jobs",svg:t})}function Dc(t){return J({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M21 13.242V20h1v2H2v-2h1v-6.758A4.496 4.496 0 011 9.5c0-.827.224-1.624.633-2.303L4.345 2.5a1 1 0 01.866-.5H18.79a1 1 0 01.866.5l2.702 4.682A4.496 4.496 0 0121 13.242zm-2 .73a4.496 4.496 0 01-3.75-1.36A4.496 4.496 0 0112 14.001a4.496 4.496 0 01-3.25-1.387A4.496 4.496 0 015 13.973V20h14v-6.027zM5.789 4L3.356 8.213a2.5 2.5 0 004.466 2.216c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 004.644 0c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 104.457-2.232L18.21 4H5.79z"/>'},t)}function Mc(){const t=f(Dc,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(St,{tabName:"store",title:"Store",svg:t})}const Lc=w('<svg class="tabheadicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"></path></svg>');function Uc(){const t=Lc.cloneNode(!0);return f(St,{tabName:"system",title:"System",svg:t})}function jc(){const t=f(Sc,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(St,{tabName:"account",title:"Account",svg:t})}const Fc=w("<div><span></span><br></div>");function zc(){const[t,e]=x(!1),[n,r]=x(""),[s,i]=x(""),[o,l]=x(!0);function c(){const a=s().split(`
`);return f(oe,{each:a,children:u=>(()=>{const g=Fc.cloneNode(!0),p=g.firstChild;return d(p,u),g})()})}return{showErrorDialog:t,setShowErrorDialog:e,errorDialogTitle:n,setErrorDialogTitle:r,errorDialogText:s,setErrorDialogText:i,getErrorText:c,showDismiss:o,setShowDismiss:l}}const Qt=re(zc),{setShowErrorDialog:Bc,setErrorDialogTitle:Hc,setErrorDialogText:Yn}=Qt,{setSystemSetupNeeded:Vc}=Zi;function ee(t){if(console.error(t),Hc("Error"),t.response!=null){if(t.response.status==404)Yn("Resource not found");else if(t.response.status==403)Yn("You are not authorized for "+t.request.responseURL);else if(t.response.statusText=="SYSTEM_SETUP_NEEDED"){Vc(!0);return}else Yn(t.response.data.msg+`

Please contact the system admin if help is needed.`);Bc(!0)}}const Wc=w('<div id="verdiv" class="text-xs absolute left-4 bottom-2 text-gray-400"><span class="text-xs"></span><span class="curverspan text-xs"></span></div>'),{serverUrl:As}=W;function qc(){const[t]=Jt(e);async function e(){if(As==null)return null;try{return(await F.get(As+"/submit/pkgver")).data.pkg_ver}catch(n){console.error(n),ee(n)}}return f(z,{get when(){return t()!=null},get children(){const n=Wc.cloneNode(!0),r=n.firstChild;return d(r,t),n}})}const br=Symbol("store-raw"),Ft=Symbol("store-node"),Jc=Symbol("store-name");function to(t,e){let n=t[Ee];if(!n&&(Object.defineProperty(t,Ee,{value:n=new Proxy(t,Qc)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let i=0,o=r.length;i<o;i++){const l=r[i];if(s[l].get){const c=s[l].get.bind(n);Object.defineProperty(t,l,{enumerable:s[l].enumerable,get:c})}}}return n}function Ke(t){let e;return t!=null&&typeof t=="object"&&(t[Ee]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function yt(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[br])return n;if(!Ke(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,l=t.length;o<l;o++)s=t[o],(r=yt(s,e))!==s&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let c=0,a=o.length;c<a;c++)i=o[c],!l[i].get&&(s=t[i],(r=yt(s,e))!==s&&(t[i]=r))}return t}function Br(t){let e=t[Ft];return e||Object.defineProperty(t,Ft,{value:e={}}),e}function vr(t,e,n){return t[e]||(t[e]=ro(n))}function Gc(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Ee||e===Ft||e===Jc||(delete n.value,delete n.writable,n.get=()=>t[Ee][e]),n}function no(t){if(Ii()){const e=Br(t);(e._||(e._=ro()))()}}function Kc(t){return no(t),Reflect.ownKeys(t)}function ro(t){const[e,n]=x(t,{equals:!1,internal:!0});return e.$=n,e}const Qc={get(t,e,n){if(e===br)return t;if(e===Ee)return n;if(e===cr)return no(t),n;const r=Br(t),s=r.hasOwnProperty(e);let i=s?r[e]():t[e];if(e===Ft||e==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(t,e);Ii()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(i=vr(r,e,i)())}return Ke(i)?to(i):i},has(t,e){return e===br||e===Ee||e===cr||e===Ft||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Kc,getOwnPropertyDescriptor:Gc};function me(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?delete t[e]:t[e]=n;let o=Br(t),l;(l=vr(o,e,s))&&l.$(()=>n),Array.isArray(t)&&t.length!==i&&(l=vr(o,"length",i))&&l.$(t.length),(l=o._)&&l.$()}function so(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];me(t,s,e[s])}}function Xc(t,e){if(typeof e=="function"&&(e=e(t)),e=yt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&me(t,n,s)}me(t,"length",r)}else so(t,e)}function Pt(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const o=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Pt(t,[r[c]].concat(e),n);return}else if(l&&o==="function"){for(let c=0;c<t.length;c++)r(t[c],c)&&Pt(t,[c].concat(e),n);return}else if(l&&o==="object"){const{from:c=0,to:a=t.length-1,by:u=1}=r;for(let g=c;g<=a;g+=u)Pt(t,[g].concat(e),n);return}else if(e.length>1){Pt(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=yt(i),r===void 0||Ke(s)&&Ke(i)&&!Array.isArray(i)?so(s,i):me(t,r,i))}function It(...[t,e]){const n=yt(t||{}),r=Array.isArray(n),s=to(n);function i(...o){Ol(()=>{r&&o.length===1?Xc(n,o[0]):Pt(n,o)})}return[s,i]}const yr=Symbol("store-root");function dt(t,e,n,r,s){const i=e[n];if(t===i)return;if(!Ke(t)||!Ke(i)||s&&t[s]!==i[s]){if(t!==i){if(n===yr)return t;me(e,n,t)}return}if(Array.isArray(t)){if(t.length&&i.length&&(!r||s&&t[0][s]!=null)){let c,a,u,g,p,h,m,v;for(u=0,g=Math.min(i.length,t.length);u<g&&(i[u]===t[u]||s&&i[u][s]===t[u][s]);u++)dt(t[u],i,u,r,s);const b=new Array(t.length),y=new Map;for(g=i.length-1,p=t.length-1;g>=u&&p>=u&&(i[g]===t[p]||s&&i[g][s]===t[p][s]);g--,p--)b[p]=i[g];if(u>p||u>g){for(a=u;a<=p;a++)me(i,a,t[a]);for(;a<t.length;a++)me(i,a,b[a]),dt(t[a],i,a,r,s);i.length>t.length&&me(i,"length",t.length);return}for(m=new Array(p+1),a=p;a>=u;a--)h=t[a],v=s?h[s]:h,c=y.get(v),m[a]=c===void 0?-1:c,y.set(v,a);for(c=u;c<=g;c++)h=i[c],v=s?h[s]:h,a=y.get(v),a!==void 0&&a!==-1&&(b[a]=i[c],a=m[a],y.set(v,a));for(a=u;a<t.length;a++)a in b?(me(i,a,b[a]),dt(t[a],i,a,r,s)):me(i,a,t[a])}else for(let c=0,a=t.length;c<a;c++)dt(t[c],i,c,r,s);i.length>t.length&&me(i,"length",t.length);return}const o=Object.keys(t);for(let c=0,a=o.length;c<a;c++)dt(t[o[c]],i,o[c],r,s);const l=Object.keys(i);for(let c=0,a=l.length;c<a;c++)t[l[c]]===void 0&&me(i,l[c],void 0)}function _r(t,e={}){const{merge:n,key:r="id"}=e,s=yt(t);return i=>{if(!Ke(i)||!Ke(s))return s;const o=dt(s,{[yr]:i},yr,n,r);return o===void 0?i:o}}function Xt(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15 8a.5.5 0 00-.5-.5H2.707l3.147-3.146a.5.5 0 10-.708-.708l-4 4a.5.5 0 000 .708l4 4a.5.5 0 00.708-.708L2.707 8.5H14.5A.5.5 0 0015 8z"/>'},t)}function Yc(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 01.472.696v8.662a.75.75 0 01-.472.696l-7.25 2.9a.75.75 0 01-.557 0l-7.25-2.9A.75.75 0 010 12.331V3.669a.75.75 0 01.471-.696L7.443.184l.004-.001.274-.11a.75.75 0 01.558 0l.274.11.004.001 6.971 2.789zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339z"/>'},t)}function Zc(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8.186 1.113a.5.5 0 00-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 011.114 0l7.129 2.852A.5.5 0 0116 3.5v8.662a1 1 0 01-.629.928l-7.185 2.874a.5.5 0 01-.372 0L.63 13.09a1 1 0 01-.63-.928V3.5a.5.5 0 01.314-.464L7.443.184z"/>'},t)}function eu(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M13.545 2.907a13.227 13.227 0 00-3.257-1.011.05.05 0 00-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 00-3.658 0 8.258 8.258 0 00-.412-.833.051.051 0 00-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 00-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 003.995 2.02.05.05 0 00.056-.019c.308-.42.582-.863.818-1.329a.05.05 0 00-.01-.059.051.051 0 00-.018-.011 8.875 8.875 0 01-1.248-.595.05.05 0 01-.02-.066.051.051 0 01.015-.019c.084-.063.168-.129.248-.195a.05.05 0 01.051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 01.053.007c.08.066.164.132.248.195a.051.051 0 01-.004.085 8.254 8.254 0 01-1.249.594.05.05 0 00-.03.03.052.052 0 00.003.041c.24.465.515.909.817 1.329a.05.05 0 00.056.019 13.235 13.235 0 004.001-2.02.049.049 0 00.021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 00-.02-.019zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612z"/>'},t)}function io(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M11.42 2l3.428 6-3.428 6H4.58L1.152 8 4.58 2h6.84zM4.58 1a1 1 0 00-.868.504l-3.428 6a1 1 0 000 .992l3.428 6A1 1 0 004.58 15h6.84a1 1 0 00.868-.504l3.429-6a1 1 0 000-.992l-3.429-6A1 1 0 0011.42 1H4.58z"/><path d="M6.848 5.933a2.5 2.5 0 102.5 4.33 2.5 2.5 0 00-2.5-4.33zm-1.78 3.915a3.5 3.5 0 116.061-3.5 3.5 3.5 0 01-6.062 3.5z"/>'},t)}function tu(){const[t,e]=It({__initial:!0}),[n,r]=x({}),[s,i]=x({}),{serverUrl:o}=W;let l=!1;se(function(){t.__initial==!0&&(e(_r({})),u())});function c(h){return h in t?t[h]:null}function a(h){var m=t;m[h.name]=h}function u(){l||(l=!0,F.get(o+"/store/remote").then(function(h){let m=h.data.data;delete m.aggregator;const v={},b="input coversion",y="reporting";for(const _ in m){const k=m[_];if(k.tags&&k.tags.length>0)for(const I of k.tags)I!="reporters"&&I!="input/output"&&(v[I]=h.data.tagdesc[I]||I);else k.tags=[];k.type=="converter"?(v[b]="Input format conversion modules",k.tags.push(b)):k.type=="reporter"&&(v[y]="Report generation modules",k.tags.push(y))}v["no tag"]="No tag provided",i(v),e(m),l=!1}).catch(function(h){console.error(h)}))}function g(h){return h in n()?n()[h]:f(io,{})}function p(h,m,v,b){let y=[];for(const[_,k]of Object.entries(t)){let I=!0;m.length>0&&(k.type in m||(I=!1)),v!=null&&(v=="no tag"?k.tags.length>0&&(I=!1):k.tags.indexOf(v)==-1&&(I=!1)),I&&h!=null&&(I=!1,(_.indexOf(h)>=0||k.title.indexOf(h)>=0||k.description&&k.description.indexOf(h)>=0)&&(I=!0)),I&&y.push(_)}return b==null||b=="Name"?y.sort():b=="Size"&&y.sort((_,k)=>t[k].size-t[_].size),y}return{remoteModules:t,setRemoteModules:e,getRemoteModule:c,addRemoteModule:a,loadAllRemoteModules:u,remoteModuleLogos:n,setRemoteModuleLogos:r,getRemoteModuleLogo:g,getFilteredRemoteModules:p,remoteTags:s}}const Me=re(tu),nu=(t,e)=>{const n=Ns(t),r=Ns(e),s=n.pop(),i=r.pop(),o=Ps(n,r);return o!==0?o:s&&i?Ps(s.split("."),i.split(".")):s||i?s?-1:1:0},ru=(t,e,n)=>{lu(n);const r=nu(t,e);return oo[n].includes(r)},su=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ns=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(su);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},Os=t=>t==="*"||t==="x"||t==="X",Rs=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},iu=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],ou=(t,e)=>{if(Os(t)||Os(e))return 0;const[n,r]=iu(Rs(t),Rs(e));return n>r?1:n<r?-1:0},Ps=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=ou(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0},oo={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},Ds=Object.keys(oo),lu=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(Ds.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${Ds.join("|")}`)};async function au(t){const{serverUrl:e}=W,n=await fetch(e+t).catch(function(r){ee(r)});return n==null?{}:n.json()}const cu="module_option_file__";function uu(){const[t,e]=It({__initial:!0}),[n,r]=x({}),{serverUrl:s}=W;se(function(){t.__initial==!0&&(e(_r({})),l())});function i(h){return h in t?t[h]:null}function o(h){var m={...t};m[h.name]=h,e(m)}function l(){F.get(s+"/store/local").then(function(h){e(_r(h.data))}).catch(function(h){ee(h)})}function c(h){const m=new URLSearchParams({moduleName:h});au(s+"/store/addlocal?"+m).then(function(v){o(v)}).catch(function(v){console.log(v)})}function a(h){return h in n()?n()[h]:f(io,{})}function u(h,m,v){let _=t[h].module_options;_==null&&(_={}),m.type=="int"?v=parseInt(v):m.type=="float"&&(v=parseFloat(v));const k={value:v,method:m.method,type:m.type};_[m.name]=k,e(h,"module_options",_)}function g(h,m){let v={};for(const b in h){const y=h[b];if(y.module_options){v[b]={};for(const _ in y.module_options){const k=y.module_options[_];if(k.method=="file"){const I=cu+b+"__"+_;m.append(I,k.value)}else v[b][_]=k.value}Object.keys(v[b]).length==0&&delete v[b]}}return v}function p(h,m){const v=t[h];if(v&&v.module_options){const b=v.module_options[m];return b||null}else return null}return{localModules:t,setLocalModules:e,getLocalModule:i,addLocalModule:o,loadAllLocalModules:l,localModuleLogos:n,setLocalModuleLogos:r,getLocalModuleLogo:a,setModuleOption:u,getModuleOptions:g,getModuleOption:p,loadOneLocalModule:c}}const Qe=re(uu),{localModules:du}=Qe;function $n(t){return Object.keys(t).length==0}function wr(t,e){let n=[];for(const[r,s]of Object.entries(du)){let i=!0;r=="tagsampler"||r=="vcfinfo"||r=="varmeta"||s.type!="annotator"&&s.type!="postaggregator"?i=!1:e!=null&&(e=="no tag"?s.tags.length>0&&(i=!1):s.tags.indexOf(e)==-1&&(i=!1)),i&&t!=null&&(i=!1,(r.indexOf(t)>=0||s.title.indexOf(t)>=0||s.description&&s.description.indexOf(t)>=0)&&(i=!0)),i&&n.push(r)}return n.sort(),n}function lo(t){let o="";return t>1099511627776?o=(t/1099511627776).toFixed(1)+" TB":t>1073741824?o=(t/1073741824).toFixed(1)+" GB":t>1048576?o=(t/1048576).toFixed(1)+" MB":t>1024?o=(t/1024).toFixed(1)+" KB":o=t+"B",o}function fu(){const[t,e]=It({}),[n,r]=x(!1),[s,i]=x(!1),{localModules:o}=Qe,{remoteModules:l,getFilteredRemoteModules:c}=Me;se(function(){!$n(o)&&!$n(l)&&a()});function a(){let m={},v=0;for(const b in l)if(b in o){m[b]={installed:!0};const y=o[b],_=l[b],k=y.version,I=_.latest_version;ru(I,k,">")==!0?(m[b].update_available=!0,v+=1):m[b].update_available=!1}else m[b]={installed:!1,update_available:!1};e(m),i(v),r(v>0)}function u(m,v,b,y,_){const k=[];if(t==null||Object.keys(l).length==0)return k;for(const I of c(m,v,b,_)){const S=t[I];let T=!1;S.installed==!0&&(y==!0?S.update_available==!0&&(T=!0):T=!0),T==!0&&k.push(I)}return k}function g(m,v,b,y){const _=[];if(t==null||Object.keys(l).length==0)return _;for(const k of c(m,v,b,y))t[k].installed!=!0&&_.push(k);return _}function p(m){return t==null?!1:t[m].installed}function h(m){return t[m].update_available}return{moduleInstallStates:t,setModuleInstallStates:e,makeModuleInstallStates:a,updateAvailable:n,numUpdateAvailable:s,getInstalledModules:u,getNotInstalledModules:g,installed:p,updateAvailableForModule:h}}const Xe=re(fu),{serverUrl:Zn,withCredentials:er}=W,{getRemoteModule:hu}=Me;function gu(){const[t,e]=x([]),[n,r]=x(null),[s,i]=x(0),{loadAllLocalModules:o}=Qe;l(),c(),se(function(){if(n()!=null){const b=n().stage;if(b=="error"){const y={response:{status:500,data:{msg:n().message}}};ee(y)}(b=="killed"||b=="finish"||b=="error"||b=="skip")&&(r({}),l()),v(),b=="finish"&&o()}});function l(){const{serverUrl:b}=W;F.get(b+"/store/getqueue").then(function(y){e(y.data)}).catch(function(y){ee(y)})}function c(){const{serverUrl:b}=W;F.get(b+"/store/getinstallstate").then(function(y){r(y.data),v()}).catch(function(y){ee(y)})}function a(){return t().length==0?null:t()[t().length-1]}function u(b){if(b==null||b==n().module_name)return;const y=hu(b);y!=null&&F.get(Zn+"/store/queueinstall",{params:{module:b,version:y.latest_version},withCredentials:er}).then(function(_){l()}).catch(function(_){ee(_)})}function g(b){a()!=b&&u(b)}function p(b){F.get(Zn+"/store/unqueue",{params:{module_name:b},withCredentials:er}).then(function(y){l()}).catch(function(y){ee(y)})}function h(b){return t().length==0?!1:t().indexOf(b)>=0}function m(b){F.get(Zn+"/store/uninstall",{params:{moduleName:b},withCredentials:er}).then(function(y){o()}).catch(function(y){ee(y),l()})}function v(){if(n()==null){i(0);return}const b=n().stage;if(b=="killed"||b=="error"||b=="skip"){i(0);return}const y=parseFloat(n().total_chunk),_=parseFloat(n().total_size);if(y==0&&_==0){i(0);return}if(isNaN(y)||isNaN(_)){i(0);return}const k=y/_*100;i(k)}return{installQueue:t,addToInstallQueue:g,removeFromInstallQueue:p,inQueue:h,uninstallModule:m,installState:n,setInstallState:r,installProgress:s,makeInstallProgress:v}}const Yt=re(gu);function mu(){const[t,e]=x(null);return{systemMsg:t,setSystemMsg:e}}const ao=re(mu),pu="connection",bu="setup",vu="setup_error",yu="install";function _u(){const[t,e]=x(null),[n,r]=x(!1),{setInstallState:s}=Yt,{wsUrl:i}=W,{setSystemMsg:o}=ao,[l,c]=x(""),[a,u]=x(null),[g,p]=x(!1);let h=0;const m=10;se(function(){t()==null&&setTimeout(function(){e(b())}),g()==!0&&a&&a()});function v(){return l()}function b(){const T=new WebSocket(i);return T.onopen=function(A){r(!0)},T.onclose=function(A){if(console.log("@@@ ws closed"),h+=1,h>=m){const C={};C.response=void 0,ee(C)}else r(!1),setTimeout(function(){e(null)},3e3)},T.onmessage=function(A){const C=JSON.parse(A.data);S(C)},T.onerror=function(A){ee(A)},T}function y(T){T=="Logging in..."?c("Logging in..."):T=="Setting up store cache..."?c("Setting up store cache..."):T=="Setting up administrative database..."?c("Setting up administrative database..."):T=="Installing system modules..."?c("Installing system modules..."):T.startsWith("Installing")||T.startsWith("Installed")||T.includes("already exists")?c(T):T=="Done setting up the system."&&(c("Done setting up the system."),p(!0))}function _(T){let A=[];const C=T.msg.split(`
`);for(const N of C)A.push({kind:T.kind,msg:N,dt:T.dt}),y(N);o(A)}function k(T){const A=JSON.parse(T.msg);ee(A),o([{msg:A.response.data.msg,dt:T.dt}])}function I(T){for(const A of T)A.kind==vu?k(A):_(A)}function S(T){const A=T.msg_kind;console.log("@ ws data=",T,"msgKind=",A),A==pu?(console.log("@@ connection msg",T),document.cookie="ws_id="+T.ws_id):A==bu?I(T.items):A==yu?s(T):console.log("@@ other msg:",T)}return{wsOpened:n,getSetupStageMsg:v,setCallbackAfterSetup:u,setSetupStateMsg:c}}const co=re(_u);function wu(){const{wsOpened:t}=co;return f(z,{get classList(){return{hidden:t()==!0}},get children(){return f(Ac,{color:"#dc2626",size:48})}})}const xu=w('<div id="sidebar_static" class="md:flex md:w-36 md:flex-col md:fixed md:inset-y-0"><div class="flex-1 flex flex-col min-h-0 border-r border-gray-200"><div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto"><div class="flex items-center flex-shrink-0 px-4"><img class="h-16 w-auto" alt="Logo"></div><nav class="mt-5 flex-1 px-2 space-y-1"></nav></div></div></div>');function ku(){const{serverUrl:t}=W,{multiuser:e}=De,{admin:n}=$e;return(()=>{const r=xu.cloneNode(!0),s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=o.nextSibling;return V(l,"src",t+"/submit/images/logo_transparent_bw.png"),d(c,f(Cc,{}),null),d(c,f(Nc,{}),null),d(c,f(Pc,{}),null),d(c,f(Mc,{}),null),d(c,f(z,{get when(){return e()==!1||n()==!0},get children(){return f(Uc,{})}}),null),d(c,f(z,{get when(){return e()==!0},get children(){return f(jc,{})}}),null),d(i,f(qc,{}),null),d(i,f(wu,{}),null),r})()}const $u=w('<a target="_blank"><button class="relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200 dark:focus:ring-cyan-800"><span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"></span></button></a>');function Fe(t){return(()=>{const e=$u.cloneNode(!0),n=e.firstChild,r=n.firstChild;return d(r,()=>t.icon,null),d(r,()=>t.text,null),E(()=>V(e,"href",t.url)),e})()}function Ms(t){return J({a:{viewBox:"0 0 496 512"},c:'<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>'},t)}function Su(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2zM22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/>'},t)}function Iu(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>'},t)}function Cu(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/>'},t)}function Tu(t){return J({a:{viewBox:"0 0 512 512"},c:'<path d="M28 28v456h456V28H28zm378.83 108.04l-24.46 23.45a7.162 7.162 0 00-2.72 6.86v172.28c-.44 2.61.61 5.26 2.72 6.86l23.88 23.45v5.15H286.13v-5.15l24.74-24.02c2.43-2.43 2.43-3.15 2.43-6.86V198.81l-68.79 174.71h-9.3l-80.09-174.71v117.1c-.67 4.92.97 9.88 4.43 13.44l32.18 39.03v5.15h-91.24v-5.15l32.18-39.03c3.44-3.57 4.98-8.56 4.15-13.44V180.5c.38-3.76-1.05-7.48-3.86-10.01l-28.6-34.46v-5.15h88.81l68.65 150.55 60.35-150.55h84.66v5.16z"/>'},t)}function Eu(t){return J({a:{viewBox:"0 0 512 512"},c:'<path d="M324 256a36 36 0 1036 36 36 36 0 00-36-36z"/><circle cx="188" cy="292" r="36" transform="rotate(-22.5 187.997 291.992)"/><path d="M496 253.77c0-31.19-25.14-56.56-56-56.56a55.72 55.72 0 00-35.61 12.86c-35-23.77-80.78-38.32-129.65-41.27l22-79 66.41 13.2c1.9 26.48 24 47.49 50.65 47.49 28 0 50.78-23 50.78-51.21S441 48 413 48c-19.53 0-36.31 11.19-44.85 28.77l-90-17.89-31.1 109.52-4.63.13c-50.63 2.21-98.34 16.93-134.77 41.53A55.38 55.38 0 0072 197.21c-30.89 0-56 25.37-56 56.56a56.43 56.43 0 0028.11 49.06 98.65 98.65 0 00-.89 13.34c.11 39.74 22.49 77 63 105C146.36 448.77 199.51 464 256 464s109.76-15.23 149.83-42.89c40.53-28 62.85-65.27 62.85-105.06a109.32 109.32 0 00-.84-13.3A56.32 56.32 0 00496 253.77zM414 75a24 24 0 11-24 24 24 24 0 0124-24zM42.72 253.77a29.6 29.6 0 0129.42-29.71 29 29 0 0113.62 3.43c-15.5 14.41-26.93 30.41-34.07 47.68a30.23 30.23 0 01-8.97-21.4zM390.82 399c-35.74 24.59-83.6 38.14-134.77 38.14S157 423.61 121.29 399c-33-22.79-51.24-52.26-51.24-83A78.5 78.5 0 0175 288.72c5.68-15.74 16.16-30.48 31.15-43.79a155.17 155.17 0 0114.76-11.53l.3-.21.24-.17c35.72-24.52 83.52-38 134.61-38s98.9 13.51 134.62 38l.23.17.34.25A156.57 156.57 0 01406 244.92c15 13.32 25.48 28.05 31.16 43.81a85.44 85.44 0 014.31 17.67 77.29 77.29 0 01.6 9.65c-.01 30.72-18.21 60.19-51.25 82.95zm69.6-123.92c-7.13-17.28-18.56-33.29-34.07-47.72A29.09 29.09 0 01440 224a29.59 29.59 0 0129.41 29.71 30.07 30.07 0 01-8.99 21.39z"/><path d="M323.23 362.22c-.25.25-25.56 26.07-67.15 26.27-42-.2-66.28-25.23-67.31-26.27a4.14 4.14 0 00-5.83 0l-13.7 13.47a4.15 4.15 0 000 5.89c3.4 3.4 34.7 34.23 86.78 34.45 51.94-.22 83.38-31.05 86.78-34.45a4.16 4.16 0 000-5.9l-13.71-13.47a4.13 4.13 0 00-5.81 0z"/>'},t)}function Au(t){return J({a:{viewBox:"0 0 512 512"},c:'<rect width="416" height="320" x="48" y="96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" rx="40" ry="40"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160l144 112 144-112"/>'},t)}function Nu(t){return J({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0028.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0028.17 47.17z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M250.26 195.39l5.74 122 5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 5.95z"/><path d="M256 397.25a20 20 0 1120-20 20 20 0 01-20 20z"/>'},t)}const Ou=w('<span class="font-semibold"></span>'),Ru=w('<div id="tab_home" class="tabcontent px-6 my-6 text-gray-700"><h1 class="text-4xl font-extrabold dark:text-white">OakVar</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Genomic variant analysis platform</p><div class="mt-4 text-base w-[64rem]"><p>OakVar is a platform for analyzing and exploring genomic variants.</p><p class="my-2">Use <!> tab to submit analysis jobs. Use <!> tab to monitor your past and current jobs. <!> shows analysis and reporting modules available through OakVar. In <!> tab, you can perform system admin tasks. </p><div class="my-2"><h3 class="mb-2 font-semibold dark:text-white">Benefits:</h3><ul class="space-y-1 list-disc list-inside"><li> genomic variants with diverse annotation sources.</li><li>Make <!> of annotated variants.</li><li>Query annotated variants with <!> sets.</li><li>Make <!> in diverse formats.</li><li> annotated variants with graphical user interface.</li><li>Works via <!> and <!>.</li><li>Easily develop, run, and distribute CLI and GUI <!>. OakVar acts as an operating system for genomics apps.</li><li>Connect genomic data to AI/ML models.</li></ul></div><div><h3 class="mb-2 font-semibold dark:text-white">Resources:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Follow us:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Help and support:</h3></div></div></div>'),{multiuser:Pu}=De;function fe(t){return(()=>{const e=Ou.cloneNode(!0);return d(e,t),e})()}function Du(){const{tabName:t}=lt;return(()=>{const e=Ru.cloneNode(!0),n=e.firstChild,r=n.nextSibling,s=r.nextSibling,i=s.firstChild,o=i.nextSibling,l=o.firstChild,c=l.nextSibling,a=c.nextSibling,u=a.nextSibling,g=u.nextSibling,p=g.nextSibling,h=p.nextSibling,m=h.nextSibling;m.nextSibling;const v=o.nextSibling,b=v.firstChild,y=b.nextSibling,_=y.firstChild,k=_.firstChild,I=_.nextSibling,S=I.firstChild,T=S.nextSibling;T.nextSibling;const A=I.nextSibling,C=A.firstChild,N=C.nextSibling;N.nextSibling;const R=A.nextSibling,P=R.firstChild,D=P.nextSibling;D.nextSibling;const G=R.nextSibling,Q=G.firstChild,te=G.nextSibling,Z=te.firstChild,K=Z.nextSibling,H=K.nextSibling,_e=H.nextSibling;_e.nextSibling;const Ze=te.nextSibling,at=Ze.firstChild,et=at.nextSibling;et.nextSibling;const ct=v.nextSibling;ct.firstChild;const Ue=ct.nextSibling;Ue.firstChild;const At=Ue.nextSibling;return At.firstChild,d(o,()=>fe("Submit"),c),d(o,()=>fe("Jobs"),u),d(o,()=>fe("Store"),p),d(o,()=>fe("System"),m),d(o,f(z,{get when(){return Pu()},get children(){return["In ",be(()=>fe("Account"))," tab, you can perform account tasks including logging out."]}}),null),d(_,()=>fe("Annotate"),k),d(I,()=>fe("databases"),T),d(A,()=>fe("filter"),N),d(R,()=>fe("reports"),D),d(G,()=>fe("Visualize"),Q),d(te,()=>fe("CLI"),K),d(te,()=>fe("GUI"),_e),d(Ze,()=>fe("genomics apps"),et),d(ct,f(Fe,{url:"https://docs.oakvar.com/",get icon(){return f(Su,{class:"inline mr-1"})},text:"Documentation"}),null),d(ct,f(Fe,{url:"https://github.com/rkimoakbioinformatics/oakvar",get icon(){return f(Ms,{class:"inline mr-1"})},text:"GitHub"}),null),d(Ue,f(Fe,{url:"https://medium.com/oakvar",get icon(){return f(Tu,{class:"inline mr-1"})},text:"Medium (Announcements)"}),null),d(Ue,f(Fe,{url:"https://discord.gg/wZfkTMKTjG",get icon(){return f(eu,{class:"inline mr-1"})},text:"Discord (Messaging)"}),null),d(Ue,f(Fe,{url:"https://www.reddit.com/r/oakvar",get icon(){return f(Eu,{class:"inline mr-1"})},text:"Reddit (Discussion)"}),null),d(Ue,f(Fe,{url:"https://dashboard.mailerlite.com/forms/21170/56038572068701589/share",icon:"",text:"Join the mailing list"}),null),d(At,f(Fe,{url:"https://github.com/rkimoakbioinformatics/oakvar/issues",get icon(){return f(Ms,{class:"inline mr-1"})},text:"Issues"}),null),d(At,f(Fe,{url:"mailto:info@oakbioinformatics.com",get icon(){return f(Au,{class:"inline mr-1"})},text:"Mail"}),null),E(()=>e.classList.toggle("hidden",t()!="home")),e})()}const Mu=w('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function an(t){function e(){t.setAssembly(t.value),t.setShow(!1)}return(()=>{const n=Mu.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}j(["click"]);const Lu=w('<div id="assembly-select" class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function Uu(t){return(()=>{const e=Lu.cloneNode(!0),n=e.firstChild;return d(n,f(an,{value:"auto",title:"Auto",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(an,{value:"hg38",title:"GRCh38/hg38",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(an,{value:"hg19",title:"GRCh37/hg19",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(an,{value:"hg18",title:"GRCh36/hg18",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const ju=w('<div id="assembly-select-panel" class="select-div relative inline-block text-left" value=""><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="assembly-select-div" title="Genome assembly">Genome assembly: </button></div></div>');function Fu(t){const[e,n]=x(!1),r={"":"Auto",hg38:"GRCh38/hg38",hg19:"GRCh37/hg19",hg18:"GRCh36/hg18"};function s(i){n(!e())}return(()=>{const i=ju.cloneNode(!0),o=i.firstChild,l=o.firstChild;return l.firstChild,l.$$click=s,d(l,()=>r[t.assembly],null),d(l,f(Un,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(i,f(Uu,{get show(){return e()},get setAssembly(){return t.setAssembly},setShow:n}),null),i})()}j(["click"]);const zu=w('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function Ls(t){function e(){t.setInputFormat(t.value),t.setShow(!1)}return(()=>{const n=zu.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}j(["click"]);const Bu=w('<div id="input-format-select" class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function Hu(t){return(()=>{const e=Bu.cloneNode(!0),n=e.firstChild;return d(n,f(Ls,{value:"",title:"Auto",get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}}),null),d(n,f(oe,{get each(){return t.converters},children:function(r){return f(Ls,{get value(){return r.format},get title(){return r.title},get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}})}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const Vu=w('<div id="input-format-select-panel" class="select-div relative inline-block text-left ml-6" value=""><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="input-format-select-div" title="Format">Format: </button></div></div>'),{multiuser:Wu}=De,{logged:qu}=$e,{serverUrl:Ju}=W;async function Gu(){if(Wu()==!1||qu()==!0)try{return await(await F.get(Ju+"/submit/converters")).data}catch(t){console.error(t),t.response.responseText=="system_not_ready"}}function Ku(t){const[e,n]=x(!1),[r,s]=x({"":"Auto"}),[i]=Jt(Gu);se(()=>{var l={"":"Auto"};if(!(i()==null||i()==null)){for(var c=0;c<i().length;c++)l[i()[c].format]=i()[c].title;s(l)}});function o(l){n(!e())}return(()=>{const l=Vu.cloneNode(!0),c=l.firstChild,a=c.firstChild;return a.firstChild,a.$$click=o,d(a,()=>r()[t.inputFormat],null),d(a,f(Un,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(l,f(Hu,{get show(){return e()},get converters(){return i()},get setInputFormat(){return t.setInputFormat},setInputFormats:s,setShow:n}),null),l})()}j(["click"]);const Qu=w('<div id="input-upload-list-div" class="w-1/2 flex flex-col justify-center items-center p-2 relative h-full bg-gray-50"><button id="clear_inputfilelist_button" class="text-gray-500 bg-neutral-200 hover:bg-neutral-300 p-1 w-16 rounded-md absolute top-1 left-1">Clear</button><div id="input-upload-list-wrapper" class="flex w-full overflow-auto h-[13rem] absolute bottom-1 bg-gray-50"><div id="input-upload-list" class="h-full overflow-auto"></div></div></div>'),Xu=w('<label id="input-drop-area" for="input-file" class="flex items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-md cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600 relative"><div id="input-drop-box" class="w-1/2"><div class="flex flex-col items-center justify-center pt-5 pb-6"><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> input files</p><button class="mb-2 text-sm text-gray-500 dark:text-gray-400 bg-neutral-200 hover:bg-neutral-300 p-2 rounded-md absolute top-0 right-0">Manually enter variants instead</button></div><input type="file" class="hidden" name="input-file" id="input-file" multiple></div></label>'),Yu=w('<span class="pl-2 text-sm text-gray-600 hover:text-gray-400 cursor-pointer round-md inline-block w-5/6" title="Click to remove"></span>');function Zu(t){const{setShowErrorDialog:e,setErrorDialogTitle:n,setErrorDialogText:r}=Qt;function s(l,c){c.preventDefault();for(var a=0;a<t.inputDataDrop.length;a++)if(t.inputDataDrop[a].name==l){t.setInputDataDrop([...t.inputDataDrop.slice(0,a),...t.inputDataDrop.slice(a+1,t.inputDataDrop.length)]);break}}function i(l){const c=l.target.files;for(var a=0;a<c.length;a++)if(c[a].name.indexOf(" ")>=0){n("Problem"),r("Input file names should not have space."),e(!0);break}t.setInputDataDrop([...t.inputDataDrop,...c]),l.target.value=null}function o(l){l.preventDefault(),t.setInputDataDrop([])}return(()=>{const l=Xu.cloneNode(!0),c=l.firstChild,a=c.firstChild,u=a.firstChild,g=u.nextSibling,p=a.nextSibling;return d(l,f(z,{get when(){return t.inputDataDrop.length>0},get children(){const h=Qu.cloneNode(!0),m=h.firstChild,v=m.nextSibling,b=v.firstChild;return m.$$click=o,d(b,f(oe,{get each(){return t.inputDataDrop},children:y=>(()=>{const _=Yu.cloneNode(!0);return _.$$click=s,_.$$clickData=y.name,d(_,()=>y.name),_})()})),h}}),c),d(a,f(Oc,{class:"w-10 h-10",color:"#9ca3af"}),u),g.$$click=t.setInputMode,g.$$clickData="paste",p.addEventListener("change",i),l})()}j(["click"]);const ed=w(`<div id="input-paste-area" class="relative w-full h-[20rem] border-2 border-gray-300 border-dashed rounded-md"><textarea id="input-text" class="font-mono border-0 bg-gray-50 text-gray-600 p-4 resize-none w-full h-full" placeholder="Copy and paste or type input variants. VCF is supported. A quick and simple format is space-delimited one:

chr1 9384934 + A T

which is chromosome, position, strand, a reference allele, and an alternate allele.

Alternatively, if 'Server files' box is checked, paths to input files in the server can be used as well. For example,

/mnt/oakvar/input/sample/sample_1.vcf
"></textarea><div class="top-2 right-3 absolute cursor-pointer" title="Click to go back"></div><div class="absolute bottom-1 right-1 text-gray-400 text-sm"><button value="cravat" class="p-1 text-gray-500 bg-neutral-200 hover:bg-neutral-300">Try an example</button></div></div>`);function td(t){function e(){const{serverUrl:r}=W;t.setAssembly("hg38"),t.setInputFormat("vcf"),fetch(`${r}/submit/input-examples/${t.inputFormat}.${t.assembly}.txt`).then(s=>s.text()).then(s=>{t.changeInputData("paste",s)})}function n(r){t.changeInputData("paste",r.target.value)}return(()=>{const r=ed.cloneNode(!0),s=r.firstChild,i=s.nextSibling,o=i.nextSibling,l=o.firstChild;return s.$$keyup=n,i.$$click=t.setInputMode,i.$$clickData="drop",d(i,f(Tc,{class:"w-5 h-5 mr-2"})),l.$$click=e,E(()=>s.value=t.inputDataPaste),r})()}j(["keyup","click"]);const nd=w('<div id="job-name-div" class="mt-4 w-full"><textarea id="job-name" class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full " placeholder="(Optional) job name"></textarea></div>');function rd(t){function e(n){t.setJobName(n.target.value)}return(()=>{const n=nd.cloneNode(!0),r=n.firstChild;return r.$$keyup=e,E(()=>n.classList.toggle("hidden",!t.inputExists)),E(()=>r.value=t.jobName),n})()}j(["keyup"]);const sd=w('<div id="submit-note-div" class="mt-4 w-full"><textarea id="submit-note" class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full" placeholder="(Optional) note for this job"></textarea></div>');function id(t){function e(n){t.setJobNote(n.target.value)}return(()=>{const n=sd.cloneNode(!0),r=n.firstChild;return r.$$keyup=e,E(()=>n.classList.toggle("hidden",!t.inputExists)),E(()=>r.value=t.jobNote),n})()}j(["keyup"]);const od=w('<div id="submit-job-button-div" class="mt-4"><button id="submit-job-button" type="button" class="inline-flex items-center h-12 rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Annotate</button></div>');function ld(t){return(()=>{const e=od.cloneNode(!0),n=e.firstChild;return Rn(n,"click",t.submitFn,!0),E(()=>e.classList.toggle("hidden",!t.inputExists)),e})()}j(["click"]);const ad=w('<div class="flex items-center justify-center ml-6"><input id="default-checkbox" type="checkbox" value="" title="If checked, each input files will be processed separately." class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-checkbox" class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300" title="If checked, each input files will be processed separately.">Separate job per file</label></div>'),cd=w('<div class="flex items-center justify-center ml-6"><input id="default-checkbox" type="checkbox" value="" title="If checked, each input line should be a path to an input file in the server." class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-checkbox" class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300" title="If checked, each input line should be a path to an input file in the server.">Server files</label></div>'),ud=w('<div id="input-div" class="w-[40rem] items-center flex flex-col" style="height: calc(100vh - 10rem);"><div class="flex"></div><div class="w-full flex items-center justify-center mt-1" ondragenter="onDragEnterInputFiles(event)" ondragover="onDragOverInputFiles(event)" ondragleave="onDragLeaveInputFiles(event)" ondrop="onDropInputFiles(event)"></div></div>');function dd(t){function e(s,i){t.setInputMode(s),s=="drop"?t.setInputDataDrop(i):s=="paste"&&t.setInputDataPaste(i)}se(function(){t.inputMode=="drop"?t.setInputExists(t.inputDataDrop.length>0):t.inputMode=="paste"&&t.setInputExists(t.inputDataPaste.length>0)});function n(s){t.setSeparateJobPerFile(!t.separateJobPerFile)}function r(s){t.setServerFileMode(!t.serverFileMode)}return(()=>{const s=ud.cloneNode(!0),i=s.firstChild,o=i.nextSibling;return d(i,f(Fu,{get assembly(){return t.assembly},get setAssembly(){return t.setAssembly}}),null),d(i,f(Ku,{get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}}),null),d(i,f(z,{get when(){return t.inputMode=="drop"},get children(){const l=ad.cloneNode(!0),c=l.firstChild;return c.$$click=n,E(()=>c.checked=t.separateJobPerFile),l}}),null),d(i,f(z,{get when(){return t.inputMode=="paste"},get children(){const l=cd.cloneNode(!0),c=l.firstChild;return c.$$click=r,E(()=>c.checked=t.serverFileMode),l}}),null),d(o,f(Rr,{get children(){return[f(bt,{get when(){return t.inputMode=="drop"},get children(){return f(Zu,{get setInputMode(){return t.setInputMode},get inputDataDrop(){return t.inputDataDrop},get setInputDataDrop(){return t.setInputDataDrop}})}}),f(bt,{get when(){return t.inputMode=="paste"},get children(){return f(td,{get setInputMode(){return t.setInputMode},changeInputData:e,get inputDataPaste(){return t.inputDataPaste},get assembly(){return t.assembly},get setAssembly(){return t.setAssembly},get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}})}})]}})),d(s,f(rd,{get inputExists(){return t.inputExists},get jobName(){return t.jobName},get setJobName(){return t.setJobName}}),null),d(s,f(id,{get inputExists(){return t.inputExists},get jobNote(){return t.jobNote},get setJobNote(){return t.setJobNote}}),null),d(s,f(ld,{get inputExists(){return t.inputExists},get submitFn(){return t.submitFn}}),null),s})()}j(["click"]);const fd=w('<input class="block w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400" type="file">'),hd=w('<select class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"></select>'),gd=w('<div class="flex flex-col mb-4"><span class="mb-2 font-xs"></span></div>'),md=w('<input type="text">'),pd=w("<option></option>"),{setModuleOption:bd,getModuleOptions:zb,getModuleOption:vd}=Qe;function yd(t){const[e,n]=x(null);se(function(){const s=vd(t.moduleName,t.option.name);e()==null&&s!=null&&n(s.value)});function r(s){const i=s.target.value;n(s.target.value),bd(t.moduleName,t.option,i)}return(()=>{const s=gd.cloneNode(!0),i=s.firstChild;return d(i,()=>t.option.title),d(s,f(Rr,{get fallback(){return(()=>{const o=md.cloneNode(!0);return o.$$keyup=r,E(()=>o.value=e()),o})()},get children(){return[f(bt,{get when(){return t.option.method=="file"},get children(){const o=fd.cloneNode(!0);return o.addEventListener("change",r),o}}),f(bt,{get when(){return t.option.method=="select"},get children(){const o=hd.cloneNode(!0);return o.addEventListener("change",r),o.$$click=function(l){l.stopPropagation()},d(o,f(oe,{get each(){return t.option.options},children:l=>(()=>{const c=pd.cloneNode(!0);return c.value=l,d(c,l),c})()})),E(()=>V(o,"title",t.option.help)),E(()=>o.value=e()),o}})]}}),null),E(()=>V(i,"title",t.option.help)),s})()}j(["click","keyup"]);const{localModules:zt}=Qe,{remoteModules:_d}=Me;function uo(t,e,n,r){const i=zt[t].type;i=="annotator"?delete e[t]:i=="postaggregator"?delete n[t]:i=="reporter"&&delete r[t]}function Dt(t,e){const n={...t.annotators},r={...t.postaggregators},s={...t.reporters},i=[];fo(e,i);for(const o of i)uo(o,n,r,s);t.setAnnotators(n),t.setPostaggregators(r),t.setReporters(s)}function xr(t,e){const n={...t.annotators},r={...t.postaggregators},s={...t.reporters},i=[];Hr(e,i,[]);for(const l of i)uo(l,n,r,s);t.setAnnotators(n),t.setPostaggregators(r),t.setReporters(s)}function kr(t,e){const n={...t.annotators},r={...t.postaggregators},s={...t.reporters};wd(e,n,r,s),t.setAnnotators({...n}),t.setPostaggregators({...r}),t.setReporters({...s})}function Hr(t,e,n){const r=zt[t];if(r==null){n.includes(t)==!1&&n.push(t);return}e.includes(t)==!1&&e.push(t);const s=r.conf;if(s==null)return;const i=s.requires;if(i!=null)for(const o of i)Hr(o,e,n)}function fo(t,e){for(const n in zt){const s=zt[n].conf.requires;if(s==null||s.length==0)continue;[...s].includes(t)&&(fo(n,e),n in e||e.push(n))}return e.push(t),e}function wd(t,e,n,r){const s=[t],i=[];Hr(t,s,i);const o=[];for(const l of i){const c=_d[l];(c==null||c.type!="webviewerwidget")&&o.push(c)}if(o.length>0){err={},ee(err);return}for(const l of s){const c=zt[l],a=c.type;if(a=="annotator")e[l]=c;else if(a=="postaggregator")n[l]=c;else if(a=="reporter")r[l]=c;else continue}}const xd=w('<div class="relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 bg-white px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default" style="background-color: rgba(68, 64, 60, 0.3);"><a class="relative remove-up text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100" title="Remove this module and any module depending on this module from analysis"></a><a class="ml-2 relative remove-up-down text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100" title="Remove this module and all modules required by this module from analysis"></a></div><div><div class="float-left w-24 h-24 mr-2 flex justify-center items-center"><img class="w-20 rounded-lg"></div><div class="min-w-0 flex-1" style="min-height: 6rem;"><a class="focus:online-none"><p class="text-md font-semibold text-gray-700"></p><p class="text-sm text-gray-500"></p></a></div></div><div class="w-full"></div></div>');function jn(t){const{serverUrl:e}=W,{localModules:n}=Qe,[r,s]=x(!1),i=n[t.moduleName];function o(a){return a&&t.moduleName in a}function l(){return o(t.annotators)||o(t.postaggregators)||o(t.reporters)}function c(a){a.stopPropagation();const u=a.target.closest("a");let g=!1,p=!1;u!=null&&(g=u.classList.contains("remove-up"),p=u.classList.contains("remove-up-down")),t.cardType=="selected"?g?Dt(t,t.moduleName):p?(Dt(t,t.moduleName),xr(t,t.moduleName)):i.type=="reporter"&&kr(t,t.moduleName):l()?g?Dt(t,t.moduleName):p&&(Dt(t,t.moduleName),xr(t,t.moduleName)):kr(t,t.moduleName)}return(()=>{const a=xd.cloneNode(!0),u=a.firstChild,g=u.firstChild,p=g.nextSibling,h=u.nextSibling,m=h.firstChild,v=m.firstChild,b=m.nextSibling,y=b.firstChild,_=y.firstChild,k=_.nextSibling,I=h.nextSibling;return a.$$click=c,a.addEventListener("mouseleave",S=>s(!1,S)),a.addEventListener("mouseenter",S=>s(!0,S)),d(g,f(kc,{})),d(p,f(eo,{})),d(_,()=>i&&i.title),d(k,()=>i&&i.conf.description),d(I,f(z,{get when(){return(t.cardType=="selected"||i.type=="reporter")&&i.conf.module_options},get children(){return f(oe,{get each(){return i.conf.module_options},children:S=>f(yd,{get moduleName(){return t.moduleName},option:S})})}})),E(S=>{const T=!!l(),A=t.cardType!="selected"||i.type=="reporter",C=t.cardType!="selected",N=!!(t.cardType=="selected"&&i.conf.module_options&&l()),R=i&&i.name,P=i&&i.kind,D=!r()||!l(),G=e+"/store/locallogo?module="+t.moduleName;return T!==S._v$&&a.classList.toggle("checked",S._v$=T),A!==S._v$2&&a.classList.toggle("cursor-copy",S._v$2=A),C!==S._v$3&&a.classList.toggle("max-h-64",S._v$3=C),N!==S._v$4&&a.classList.toggle("pb-16",S._v$4=N),R!==S._v$5&&V(a,"name",S._v$5=R),P!==S._v$6&&V(a,"kind",S._v$6=P),D!==S._v$7&&u.classList.toggle("hidden",S._v$7=D),G!==S._v$8&&V(v,"src",S._v$8=G),S},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),a})()}j(["click"]);const kd=w('<div id="report-choice-div" class="w-[36rem] flex flex-col justify-center items-center"><div class="text-md text-gray-600">(Optional) reporters to run</div><div id="report-choice-items" class="w-96 grid gap-2 justify-center overflow-y-auto bg-gray-100 py-4 rounded-md" style="height: calc(100vh - 10rem);"></div></div>'),$d=async()=>{const{serverUrl:t}=W;return(await(await fetch(t+"/submit/reporttypes")).json()).valid};function Sd(t){const[e]=Jt($d);return(()=>{const n=kd.cloneNode(!0),r=n.firstChild,s=r.nextSibling;return d(s,f(oe,{get each(){return e()},children:i=>f(jn,{moduleName:i+"reporter",cardType:"selected",get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}})})),n})()}const Id=w('<div id="cta-analysis-module-choice" class="absolute inset-x-0 bottom-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Click to select analysis modules</span></p></div></div></div></div></div>');function Cd(t){function e(){document.querySelector("#analysis-module-choice-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=Id.cloneNode(!0),r=n.firstChild,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild;return n.$$click=e,d(o,f(bc,{color:"#6b7280"}),l),n})()}j(["click"]);const Td=w('<button type="button" class="filter-category"></button>');function ft(t){function e(n){t.setFilterCategory(t.value)}return(()=>{const n=Td.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),E(r=>{const s=t.value==t.filterCategory,i=t.pos=="left",o=t.pos=="right";return s!==r._v$&&n.classList.toggle("pinned",r._v$=s),i!==r._v$2&&n.classList.toggle("rounded-l-lg",r._v$2=i),o!==r._v$3&&n.classList.toggle("rounded-r-md",r._v$3=o),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),E(()=>n.value=t.value),n})()}j(["click"]);const Ed=w('<div class="flex mb-2"><label for="search" class="sr-only">Search</label><input type="text" name="search" class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2" placeholder="Search"><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Add all</button><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-2">Remove all</button></div>');function ho(t){function e(s){t.setSearchText(s.target.value)}function n(){const s=wr(t.searchText,t.selectedTag);for(const i of s)kr(t,i)}function r(){const s=wr(t.searchText,t.selectedTag);for(const i of s)Dt(t,i),xr(t,i)}return(()=>{const s=Ed.cloneNode(!0),i=s.firstChild,o=i.nextSibling,l=o.nextSibling,c=l.nextSibling;return o.$$keyup=e,l.$$click=n,c.$$click=r,E(()=>o.value=t.searchText),s})()}j(["keyup","click"]);const Ad=w('<div class="filtered-modules-div overflow-auto pr-2" style="height: calc(95vh - 10rem);"></div>');function go(t){return(()=>{const e=Ad.cloneNode(!0);return d(e,f(oe,{get each(){return wr(t.searchText,t.selectedTag)},children:n=>f(jn,{moduleName:n,get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}})})),E(n=>{const r=`filtered-modules-${t.kind}`,s=t.noCols==2,i=t.noCols==1;return r!==n._v$&&V(e,"id",n._v$=r),s!==n._v$2&&e.classList.toggle("grid-cols-2",n._v$2=s),i!==n._v$3&&e.classList.toggle("grid-cols-1",n._v$3=i),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}const Nd=w('<div id="analysis-module-filter-panel-all" class="analysis-module-filter-panel w-full mt-4 overflow-auto"></div>');function Od(t){const[e,n]=x(null),[r,s]=x(null);return(()=>{const i=Nd.cloneNode(!0);return d(i,f(ho,{kind:"all",get searchText(){return e()},setSearchText:n,get selectedTag(){return r()},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),d(i,f(go,{kind:"all",side:"local",noCols:1,get searchText(){return e()},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),E(()=>i.classList.toggle("hidden",t.filterCategory!="all")),i})()}const Rd=w('<div class="relative flex items-start mb-2"><div class="flex items-center"><input type="radio" name="module-tag" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label class="ml-3 block text-sm font-medium text-gray-600"></label></div></div>');function Pd(t){return t.replace(" ","_")}function Dd(t){return t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function mo(t){const e=`module-tag-radio-${Pd(t.value)}`;return(()=>{const n=Rd.cloneNode(!0),r=n.firstChild,s=r.firstChild,i=s.nextSibling;return s.$$click=t.setSelectedTag,s.$$clickData=t.value,V(s,"id",e),V(i,"for",e),d(i,()=>Dd(t.value)),E(()=>V(n,"title",t.title)),E(()=>s.value=t.value),E(()=>s.checked=t.selectedTag==t.value),n})()}j(["click"]);const Md=w('<div id="analysis-module-filter-panel-tags" class="analysis-module-filter-panel w-full mt-4 overflow-auto grid grid-cols-3"><div id="analysis-module-filter-items-tags" class="col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto" style="height: calc(95vh - 8rem);"></div><div class="col-span-2"></div></div>'),Ld=async()=>{const{serverUrl:t}=W;let e=await(await fetch(t+"/submit/tags_annotators_postaggregators")).json();return e.push("no tag"),e};function Ud(t){const[e]=Jt(Ld),[n,r]=x(null),[s,i]=x(null);return(()=>{const o=Md.cloneNode(!0),l=o.firstChild,c=l.nextSibling;return d(l,f(oe,{get each(){return e()},children:a=>f(mo,{value:a,setSelectedTag:i})})),d(c,f(ho,{kind:"tags",get searchText(){return n()},setSearchText:r,get selectedTag(){return s()},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),d(c,f(go,{kind:"tags",noCols:1,get selectedTag(){return s()},get searchText(){return n()},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),E(()=>o.classList.toggle("hidden",t.filterCategory!="tags")),o})()}const jd=w('<div class="analysis-module-filter-wrapper col-span-7"><div id="analysis-module-filter-kinds" class="w-full"><div class="inline-flex rounded-md shadow-sm" role="group"></div></div></div>');function Fd(t){const[e,n]=x("all");return(()=>{const r=jd.cloneNode(!0),s=r.firstChild,i=s.firstChild;return d(i,f(ft,{value:"all",title:"All",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),d(i,f(ft,{value:"tags",title:"Tags",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),d(r,f(Od,{get filterCategory(){return e()},get localModules(){return t.localModules},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),d(r,f(Ud,{get filterCategory(){return e()},get localModules(){return t.localModules},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),r})()}const zd=w('<div class="col-span-4"><div class="text-gray-600 bg-gray-100 rounded-md border border-transparent font-medium px-3 py-1.5 h-[34px]">Selected analysis modules</div><div class="flex mb-2 mt-4"><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 h-[38px]">Clear</button></div><div class="relative filtered-modules-div overflow-auto pr-2"></div></div>');function Bd(t){function e(){let r=[];for(const s in t.annotators)r.push(s);for(const s in t.postaggregators)r.push(s);return r.sort(),r}function n(){t.setAnnotators({}),t.setPostaggregators({})}return(()=>{const r=zd.cloneNode(!0),s=r.firstChild,i=s.nextSibling,o=i.firstChild,l=i.nextSibling;return o.$$click=n,l.style.setProperty("height","calc(100vh - 12rem)"),d(l,f(oe,{get each(){return e()},children:function(c){return f(jn,{moduleName:c,get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters},cardType:"selected"})}})),r})()}j(["click"]);const Hd=w('<div id="cta-input" class="absolute inset-x-0 top-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Go back to the input panel</span></p></div></div></div></div></div>');function Vd(t){function e(){document.querySelector("#input-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=Hd.cloneNode(!0),r=n.firstChild,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild;return n.$$click=e,d(o,f(yc,{color:"#6b7280"}),l),n})()}j(["click"]);const Wd=w('<div id="analysis-module-choice-div" class="relative container mt-6 mb-4 snap-center flex justify-center max-w-7xl max-w-7xl"><div id="analysis-module-filter-div" class="bg-white p-4 rounded-md ml-4 mt-4 overflow-auto flex flex-col gap-8 text-gray-600 h-[95vh] w-full"><div id="analysis-module-div" class="grid grid-cols-12 gap-2 mt-8" style="height: calc(95vh - 20rem);"><div class="col-span-1 flex flex-col justify-center content-center items-center"></div></div></div></div>');function qd(t){return(()=>{const e=Wd.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.firstChild;return e.style.setProperty("height","calc(100vh - 3rem)"),d(e,f(Vd,{}),n),d(r,f(Fd,{get localModules(){return t.localModules},get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),s),d(s,f(vc,{})),d(r,f(Bd,{get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators},get reporters(){return t.reporters},get setReporters(){return t.setReporters}}),null),e})()}const Jd=w('<li><a href="#" class="block hover:bg-gray-50"><div class="py-4"><div class="flex items-center justify-between"><p class="truncate text-sm font-medium text-indigo-600"></p></div><div class="mt-2 sm:flex sm:justify-between"><div class="mt-2 w-full flex items-center text-sm text-gray-500 sm:mt-0"><div class="w-full bg-gray-200 rounded-full dark:bg-gray-700"><div class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full">%</div></div></div></div></div></a></li>');function Gd(t){return(()=>{const e=Jd.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.firstChild,i=s.firstChild,o=s.nextSibling,l=o.firstChild,c=l.firstChild,a=c.firstChild,u=a.firstChild;return d(i,()=>t.fileName),d(a,()=>t.progress,u),E(()=>a.style.setProperty("width",t.progress+"%")),e})()}const Kd=w('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6"><div><div class="mt-3 text-center sm:mt-5"><ul role="list" class="divide-y divide-gray-200"></ul></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Cancel</button></div></div></div></div></div>');function Qd(t){function e(){t.controller.abort()}return(()=>{const n=Kd.cloneNode(!0),r=n.firstChild,s=r.nextSibling,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.firstChild,a=c.firstChild,u=l.nextSibling,g=u.firstChild;return d(a,f(Gd,{fileName:"Uploading...",get progress(){return t.uploadState.progress}})),g.$$click=e,n})()}j(["click"]);const Xd=w('<div class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto"><div class="relative container flex gap-8 snap-center max-w-7xl h-[95vh] justify-center items-start"></div></div>'),Yd=w("<div>Loading...</div>"),{tabName:Zd}=lt,{localModules:ef,getModuleOptions:tf}=Qe,{serverUrl:nf,withCredentials:rf}=W,{logged:Us}=$e,{multiuser:js}=De;function sf(t){const[e,n]=x("drop"),[r,s]=x(""),[i,o]=x([]),[l,c]=x(""),[a,u]=x({}),[g,p]=x({}),[h,m]=x([]),[v,b]=x(""),[y,_]=x(!1),[k,I]=x(null),[S,T]=x(null),[A,C]=x(!1),[N,R]=x({}),[P,D]=x(!1),[G,Q]=x(!1);let te=[],Z=null,K={},H;se(function(){js()&&!Us()&&_e()});function _e(){n("drop"),s(""),o([]),c([]),u([]),p([]),m([]),b(""),_(!1),I(null),T(null),C(!1),R({})}function Ze(){return l().startsWith("#serverfile")}function at(){let B=[],he=l().split(`
`);for(var Nt=1;Nt<he.length;Nt++){let ge=he[Nt];ge==""||ge.startsWith("#")||B.push(ge.trim())}B.length>0&&(K.inputServerFiles=B)}function et(){te=[];const B=new Blob([l()],{type:"text/plain"});te.push(new File([B],"input"))}function ct(){Ze()?at():et()}function Ue(){K.annotators=[];for(const B in a())K.annotators.push(B)}function At(){K.postaggregators=[];for(const B in g())K.postaggregators.push(B)}function pl(){K.reports=[];for(const B in h())K.reports.push(B.substring(0,B.lastIndexOf("reporter")))}function bl(){K.genome=v()}function vl(){K.input_format=r()}function yl(){K.job_name=k()}function _l(){K.note=S()}function wl(B){let he={};for(const ge in a())he[ge]=a()[ge];for(const ge in g())he[ge]=g()[ge];for(const ge in h())he[ge]=h()[ge];const Nt=tf(he,B);K.module_options=Nt}function is(){H=new AbortController,C(!0),R({progress:0}),F({method:"post",url:nf+"/submit/submit?"+Math.random(),data:Z,transformRequest:()=>Z,signal:H.signal,withCredentials:rf,onUploadProgress:B=>{let he=Math.round(B.progress*100);R({progress:he})}}).then(function(B){C(!1),setTimeout(function(){t.setJobsTrigger(!t.jobsTrigger)},500)}).catch(function(B){console.error(B),B.code!="ERR_CANCELED"&&(console.error(B),alert(B)),R({}),C(!1)})}function xl(){K.combine_input=P()!=!0}function os(){te={},e()=="drop"?te=i():e()=="paste"&&ct()}function kl(){if(te.length>0)for(var B=0;B<te.length;B++)Z.append("file_"+B,te[B])}function $l(B){Z.append("file_"+B,te[B])}function Sl(){Z=new FormData}function ls(B){Sl(),K={},P()!=!0?kl():$l(B),Il()}function Il(){Ue(),At(),pl(),bl(),vl(),xl(),yl(),_l(),wl(Z),K.writeadmindb=!0,Z.append("options",JSON.stringify(K))}function Cl(){os(),ls(),is()}function Tl(){os();for(let B=0;B<te.length;B++)ls(B),is()}function El(){P()==!0?Tl():Cl()}return(()=>{const B=Xd.cloneNode(!0),he=B.firstChild;return d(he,f(z,{get when(){return js()==!1||Us()==!0},get children(){return f(dd,{get inputMode(){return e()},setInputMode:n,get inputDataDrop(){return i()},setInputDataDrop:o,get inputDataPaste(){return l()},setInputDataPaste:c,get assembly(){return v()},setAssembly:b,get inputFormat(){return r()},setInputFormat:s,get inputExists(){return y()},setInputExists:_,get jobName(){return k()},setJobName:I,get jobNote(){return S()},setJobNote:T,submitFn:El,get separateJobPerFile(){return P()},setSeparateJobPerFile:D,get serverFileMode(){return G()},setServerFileMode:Q})}}),null),d(he,f(z,{get when(){return y()},get children(){return[f(z,{get when(){return!$n(ef)},get fallback(){return Yd.cloneNode(!0)},get children(){return f(Sd,{annotators:a,setAnnotators:u,postaggregators:g,setPostaggregators:p,get reporters(){return h()},setReporters:m})}}),f(Cd,{})]}}),null),d(B,f(z,{get when(){return y()},get children(){return f(qd,{get annotators(){return a()},setAnnotators:u,get postaggregators(){return g()},setPostaggregators:p,get reporters(){return h()},setReporters:m})}}),null),d(B,f(z,{get when(){return A()},get children(){return f(Qd,{get uploadState(){return N()},controller:H})}}),null),E(()=>B.classList.toggle("hidden",Zd()!="submit")),B})()}const of=w('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function lf(t){function e(){t.setAction(t.optionValue),t.execute(),t.setShow(!1)}return(()=>{const n=of.cloneNode(!0);return n.$$click=e,d(n,()=>t.optionTitle),n})()}j(["click"]);const af=w('<div class="option-list ease-in absolute right-0 z-10 mt-12 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu"><div class="py-1" role="none"></div></div>');function cf(t){return(()=>{const e=af.cloneNode(!0),n=e.firstChild;return d(n,f(oe,{get each(){return t.options},children:function(r){return f(lf,{get optionValue(){return r.value},get optionTitle(){return r.title},get execute(){return t.execute},get setAction(){return t.setAction},get setShow(){return t.setShow}})}})),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const uf=w('<div class="select-div relative inline-flex text-left"><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="assembly-select-div" title="Job action">Action</button></div></div>');function df(t){const[e,n]=x(!1),[r,s]=x(""),i=[{value:"abort",title:"Abort"},{value:"delete",title:"Delete"}];function o(){t.performJobAction(r())}function l(c){n(!e())}return(()=>{const c=uf.cloneNode(!0),a=c.firstChild,u=a.firstChild;return u.firstChild,u.$$click=l,d(u,f(Un,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(c,f(cf,{get show(){return e()},options:i,execute:o,setAction:s,setShow:n}),null),c})()}j(["click"]);const ff=w('<div class="flex bg-white pb-2 mt-2"><div class="flex"><nav class="isolate inline-flex rounded-md shadow-sm ml-8" aria-label="Pagination"><a href="#" class="jobs-table-page-nav-btn relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span aria-current="page" class="relative z-10 inline-flex items-center border bg-white border-gray-300 text-gray-500 px-4 py-2 text-sm font-medium focus:z-20"></span><a href="#" class="jobs-table-page-nav-btn relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Go to page</span><input type="text" class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">Go</a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Show</span><input type="text" class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">jobs per page</a><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 ml-4"></a></nav></div></div>');function hf(t){function e(){let o=t.pageno;o=o-1,o<=0&&(o=1),o!=t.pageno&&t.setPageno(o)}function n(){let o=t.pageno;o=o+1,o!=t.pageno&&t.setPageno(o)}function r(o){let l=o.target.value;try{l=parseInt(l)}catch(c){console.error(c);return}l<1&&(l=1),t.setPageno(l)}function s(o){let l=o.target.value;try{l=parseInt(l)}catch(c){console.error(c);return}t.setPagesize(l)}function i(o){t.setJobsTrigger(!t.jobsTrigger)}return(()=>{const o=ff.cloneNode(!0),l=o.firstChild,c=l.firstChild,a=c.firstChild,u=a.nextSibling,g=u.nextSibling,p=g.nextSibling,h=p.nextSibling,m=h.nextSibling,v=m.nextSibling,b=v.nextSibling,y=b.nextSibling,_=y.nextSibling;return d(l,f(df,{get performJobAction(){return t.performJobAction}}),c),a.$$click=e,d(a,f(_c,{class:"w-5 h-5"})),d(u,()=>t.pageno),g.$$click=n,d(g,f(wc,{class:"w-5 h-5"})),h.addEventListener("change",r),b.addEventListener("change",s),_.$$click=i,d(_,f($c,{class:"w-5 h-5"})),E(()=>h.value=t.pageno),E(()=>b.value=t.pagesize),o})()}j(["click"]);const gf=w("<a></a>");function gn(t){return(()=>{const e=gf.cloneNode(!0);return Rn(e,"click",t.clickFn,!0),d(e,()=>t.children),E(n=>{const r="relative text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 "+t.bgColor+" "+t.bgHoverColor,s=t.hrefValue,i=t.targetValue;return r!==n._v$&&Pr(e,n._v$=r),s!==n._v$2&&V(e,"href",n._v$2=s),i!==n._v$3&&V(e,"target",n._v$3=i),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}j(["click"]);const Fs=w("<div></div>"),mf=w('<span class="inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800"></span>'),pf=w('<span class="inline-flex rounded-full bg-amber-100 px-2 text-xs font-semibold leading-5 text-amber-800"></span>'),bf=w('<span class="inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"></span>'),vf=w('<span class="inline-flex text-xs"></span>'),yf=w('<tr class="text-sm h-16"><td scope="col" class="relative w-12 px-6 sm:w-16 sm:px-8 bg-gray-50"><input type="checkbox" class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50 text-xs"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td></tr>');function _f(t){return t=="Finished"||t=="Error"||t=="Aborted"}function wf(t){const{serverUrl:e,withCredentials:n}=W,r=1e4;let s=null;Si(()=>clearInterval(s));function i(){t.changeJobChecked(t.job.uid),t.setAllMarksOn(null)}function o(){F.get(e+"/submit/jobstatus",{params:{uid:t.job.uid},withCredentials:n}).then(function(b){const y=b.data;_f(y)&&clearInterval(s),t.changeJobStatus(t.job.uid,y)}).catch(function(b){console.error(b)})}function l(){const b=t.job.status;b!="Finished"&&b!="Error"&&b!="Aborted"&&(s=setInterval(function(){o()},r))}function c(){return t.job.status=="Finished"}function a(){return c()?f(gn,{children:"View",get hrefValue(){return e+"/result/nocache/index.html?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-sky-100",bgHoverColor:"hover:bg-sky-200"}):Fs.cloneNode(!0)}function u(){return f(gn,{children:"Log",get hrefValue(){return e+"/submit/joblog?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"})}function g(){return c()?f(gn,{children:"DB",get hrefValue(){return e+"/submit/jobdb?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"}):Fs.cloneNode(!0)}function p(){const b=t.job.status;return b=="Finished"?(()=>{const y=mf.cloneNode(!0);return d(y,()=>t.job.status),y})():b=="Aborted"?(()=>{const y=pf.cloneNode(!0);return d(y,()=>t.job.status),y})():b=="Error"?(()=>{const y=bf.cloneNode(!0);return d(y,()=>t.job.status),y})():(()=>{const y=vf.cloneNode(!0);return d(y,()=>t.job.status),y})()}function h(){return t.job.info_json.orig_input_fname?t.job.info_json.orig_input_fname.join(", "):""}function m(){return(""+new Date(t.job.info_json.submission_time)).split("GMT")[0]}function v(){let b=[];const y=t.job.info_json;if(!y)return"";const _=y.annotators;if(_)for(const I of _)I!="original_input"&&b.push(I);const k=y.postaggregators;if(k)for(const I of k)b.push(I);return b.join(", ")}return l(),(()=>{const b=yf.cloneNode(!0),y=b.firstChild,_=y.firstChild,k=y.nextSibling,I=k.nextSibling,S=I.nextSibling,T=S.nextSibling,A=T.nextSibling,C=A.nextSibling,N=C.nextSibling,R=N.nextSibling,P=R.nextSibling;return y.$$click=i,d(k,()=>t.job.name),d(I,p),d(S,a),d(T,h),d(A,v),d(C,m),d(N,u),d(R,g),d(P,()=>t.job.info_json.note),E(()=>_.checked=t.job.checked),b})()}j(["click"]);const xf=w('<div class="flex flex-col"><div class="relative shadow ring-1 ring-black ring-opacity-5 md:rounded-lg overflow-auto"><table class="table-fixed divide-y divide-gray-300"><thead class="table-header-group bg-gray-50 block"><tr><th scope="col" class="relative w-12 px-6 sm:w-16 sm:px-8"><input type="checkbox" class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></th><th scope="col" class="jobs-table-th min-w-[10rem]">Name</th><th scope="col" class="jobs-table-th min-w-[5rem]">State</th><th scope="col" class="jobs-table-th min-w-[5rem]">View</th><th scope="col" class="jobs-table-th min-w-[20rem]">Input</th><th scope="col" class="jobs-table-th min-w-[10rem]">Modules</th><th scope="col" class="jobs-table-th min-w-[8rem]">Submitted</th><th scope="col" class="jobs-table-th min-w-[5rem]">Log</th><th scope="col" class="jobs-table-th min-w-[5rem]">DB</th><th scope="col" class="jobs-table-th w-full">Note</th></tr></thead><tbody class="table-row-group divide-y divide-gray-200 bg-white block overflow-auto h-[36rem]"></tbody></table></div></div>');function kf(t){const[e,n]=x(null);function r(){if(e()==!0?n(!1):(e()==null||e()==!1)&&n(!0),e()==!0)for(const s of t.jobs)t.changeJobChecked(s.uid,!0);else if(e()==!1)for(const s of t.jobs)t.changeJobChecked(s.uid,!1)}return(()=>{const s=xf.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.firstChild,a=c.firstChild,u=a.firstChild,g=l.nextSibling;return u.$$click=r,d(g,f(oe,{get each(){return t.jobs},children:p=>f(wf,{job:p,get changeJobStatus(){return t.changeJobStatus},get changeJobChecked(){return t.changeJobChecked},setAllMarksOn:n})})),E(()=>u.checked=e()),s})()}j(["click"]);const $f=w('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="text-center"><p class="text-sm text-gray-500"></p></div></div></div></div></div></div>');function Sf(t){return(()=>{const e=$f.cloneNode(!0),n=e.firstChild,r=n.nextSibling,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.firstChild;return d(c,()=>t.msg),E(()=>e.classList.toggle("hidden",t.msg==null)),e})()}const If=w('<div id="tab_jobs" class="tabcontent px-6 mb-4"><div></div></div>'),{serverUrl:zs,withCredentials:Bs}=W,{logged:Cf,setLogged:Tf}=$e,{multiuser:Ef}=De;function Af(t){const{tabName:e}=lt,[n,r]=It([]),[s,i]=x(1),[o,l]=x(10),[c,a]=x(null);se(function(){s(),o(),t.jobsTrigger,(Ef()==!1||Cf()==!0)&&p()});function u(v,b){r(y=>y.uid==v,"status",b)}function g(v,b){b==null?r(y=>y.uid==v,"checked",y=>!y):r(y=>y.uid==v,"checked",b)}function p(){F.post(zs+"/submit/jobs",{pageno:s(),pagesize:o()},{withCredentials:Bs}).then(function(v){if(v.status=="error"){Tf(!1);return}const b=v.data;r(b)}).catch(function(v){console.error(v),v.response.status==404&&i(s()-1)})}function h(v,b){const y=v.map(_=>_.uid);F.post(zs+"/submit/delete_jobs",{uids:y,abort_only:b},{withCredentials:Bs}).then(function(){t.setJobsTrigger(!t.jobsTrigger),a(null)}).catch(function(_){console.error(_),a(null)})}function m(v){const b=n.filter(y=>y.checked);v=="delete"?(a("Deleting jobs..."),h(b,!1)):v=="abort"&&(a("Aborting jobs..."),h(b,!0))}return(()=>{const v=If.cloneNode(!0),b=v.firstChild;return d(b,f(hf,{get pageno(){return s()},setPageno:i,get pagesize(){return o()},setPagesize:l,get jobsTrigger(){return t.jobsTrigger},get setJobsTrigger(){return t.setJobsTrigger},performJobAction:m}),null),d(b,f(kf,{jobs:n,changeJobStatus:u,changeJobChecked:g}),null),d(v,f(Sf,{get msg(){return c()}}),null),E(()=>v.classList.toggle("hidden",e()!="jobs")),v})()}function Nf(){const[t,e]=x(null),[n,r]=x(null);return{showDetailCard:t,setShowDetailCard:e,detailModuleName:n,setDetailModuleName:r}}const po=re(Nf),Of=w('<img class="w-20 rounded-lg">'),Rf=w('<p class="text-sm text-gray-500"></p>'),Pf=w('<span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed</span>'),Df=w('<span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">New</span>'),Mf=w('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800">Installed </span>'),Lf=w('<div class="absolute top-1 right-1"></div>'),Uf=w('<div class="group relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 bg-white px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default" style="background-color: rgba(68, 64, 60, 0.3);"><a class="relative remove-button text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100">Remove</a></div><div class="flex"><div class="w-24 h-24 mr-2 flex justify-center items-center cursor-help"></div><div class="min-w-0 flex-1" style="min-height: 6rem;"><p><span class="text-md font-semibold text-gray-700"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="ml-2 inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p></p></div></div></div>'),jf=w('<span class="break-all"></span>');function ue(t){const[e,n]=x(!1),{serverUrl:r}=W,{remoteModules:s}=Me,{localModules:i}=Qe,{installed:o,updateAvailableForModule:l}=Xe,{setShowDetailCard:c,setDetailModuleName:a}=po,u=s[t.moduleName],g=i[t.moduleName],{addToInstallQueue:p,removeFromInstallQueue:h,inQueue:m,uninstallModule:v}=Yt,{admin:b}=$e,{multiuser:y}=De;function _(){return o(t.moduleName)}function k(S){a(t.moduleName),c(!0)}function I(){m(t.moduleName)?h(t.moduleName):_()&&v(t.moduleName)}return f(z,{when:u!=null,get children(){const S=Uf.cloneNode(!0),T=S.firstChild,A=T.firstChild,C=T.nextSibling,N=C.firstChild,R=N.nextSibling,P=R.firstChild,D=P.firstChild,G=D.nextSibling,Q=P.nextSibling,te=Q.firstChild,Z=te.nextSibling,K=Q.nextSibling;return S.addEventListener("mouseleave",H=>n(!1,H)),S.addEventListener("mouseenter",H=>n(!0,H)),d(T,f(gn,{class:"details-button w-full text-sm h-8 cursor-pointer",get classList(){return{hidden:t.cardType=="selected"}},bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Details"}),A),N.$$click=k,d(N,f(z,{get when(){return u.has_logo},get fallback(){return(()=>{const H=jf.cloneNode(!0);return d(H,()=>u.title),H})()},get children(){const H=Of.cloneNode(!0);return E(()=>V(H,"src",`${r}/store/remotelogo?module=${t.moduleName}&store=${u.store}`)),H}})),d(D,()=>u.title),d(G,()=>u.latest_version),d(R,f(z,{get when(){return u.conf},get children(){const H=Rf.cloneNode(!0);return d(H,()=>u.conf.description),H}}),Q),d(te,()=>lo(u.size)),d(Z,()=>u.type),d(K,f(z,{get when(){return _()},get children(){return Pf.cloneNode(!0)}}),null),d(K,f(z,{get when(){return l(t.moduleName)},get children(){return[Df.cloneNode(!0),(()=>{const H=Mf.cloneNode(!0);return H.firstChild,d(H,()=>g.version,null),H})()]}}),null),d(R,f(z,{get when(){return y()==!1||b()==!0},get children(){const H=Lf.cloneNode(!0);return d(H,f(z,{get when(){return be(()=>!!(!_()||l(t.moduleName)))()&&!m(t.moduleName)},get children(){return f(Cu,{class:"group-hover:block hidden cursor-pointer",color:"rgb(3 105 161)",size:"24",get onClick(){return[p,t.moduleName]}})}}),null),d(H,f(z,{get when(){return _()||m(t.moduleName)},get children(){return f(Iu,{class:"group-hover:block hidden cursor-pointer",color:"rgb(251 146 60)",size:"24",onClick:I})}}),null),H}}),null),E(H=>{const _e=u.name,Ze=u.kind,at=!e()||t.cardType!="selected",et=t.cardType!="selected";return _e!==H._v$&&V(S,"name",H._v$=_e),Ze!==H._v$2&&V(S,"kind",H._v$2=Ze),at!==H._v$3&&T.classList.toggle("hidden",H._v$3=at),et!==H._v$4&&A.classList.toggle("hidden",H._v$4=et),H},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),S}})}j(["click"]);const Ff=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"><div class="store-filtered-modules"><h1 class="text-4xl font-extrabold dark:text-white">Welcome to Module Store!</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Ultimate store of genomic variant analysis modules</p><div class="mt-4 text-base w-[64rem]"><p><span class="font-bold">All</span> tab lists all available modules. In <span class="font-bold">Tags</span> tab, modules can be searched by the tags provided by the developers of modules. To quickly see all the modules already installed in the system, click <span class="font-bold">Installed</span> tab. When an updated version of any of installed modules is available, <span class="font-bold">Updates available</span> tab will appear.</p><p class="mt-2">To install a module, hover on the module card and click <span class="font-bold">Install</span>. Module installation is queued at the bottom. If you cancel the installation of a module, click the module card in the queue area.</p><p class="mt-2">Below are some of popular modules for you to get started!</p><p class="my-2">For cancer research:</p><p class="mt-4 mb-2">For clinical implications of variants:</p><p class="mt-4 mb-2">For allele frequencies in different populations:</p><p class="mt-4 mb-2">For actionable gene-drug associations:</p><p class="mt-4 mb-2">For the prediction of varinat effect:</p></div><p class="mt-2">Look around and happy annotating!</p></div></div>');function zf(t){return(()=>{const e=Ff.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.nextSibling,i=s.nextSibling,o=i.firstChild,l=o.nextSibling,c=l.nextSibling,a=c.nextSibling,u=a.nextSibling,g=u.nextSibling,p=g.nextSibling,h=p.nextSibling;return d(i,f(ue,{moduleName:"civic",get addToInstallQueue(){return t.addToInstallQueue}}),u),d(i,f(ue,{moduleName:"cosmic",get addToInstallQueue(){return t.addToInstallQueue}}),u),d(i,f(ue,{moduleName:"oncokb",get addToInstallQueue(){return t.addToInstallQueue}}),u),d(i,f(ue,{moduleName:"clinvar",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(i,f(ue,{moduleName:"grasp",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(i,f(ue,{moduleName:"gwas_catalog",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(i,f(ue,{moduleName:"omim",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(i,f(ue,{moduleName:"thousandgenomes",get addToInstallQueue(){return t.addToInstallQueue}}),p),d(i,f(ue,{moduleName:"gnomad",get addToInstallQueue(){return t.addToInstallQueue}}),p),d(i,f(ue,{moduleName:"pharmgkb",get addToInstallQueue(){return t.addToInstallQueue}}),h),d(i,f(ue,{moduleName:"cadd",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(i,f(ue,{moduleName:"fathmm",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(i,f(ue,{moduleName:"sift",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(i,f(ue,{moduleName:"polyphen2",get addToInstallQueue(){return t.addToInstallQueue}}),null),E(()=>e.classList.toggle("hidden",t.filterCategory!="home")),e})()}const Bf=w('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function Hs(t){function e(){t.setSort(t.value),t.setShow(!1)}return(()=>{const n=Bf.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}j(["click"]);const Hf=w('<div class="option-list ease-in absolute right-0 z-10 mt-2 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function Vf(t){return(()=>{const e=Hf.cloneNode(!0),n=e.firstChild;return d(n,f(Hs,{value:"Name",title:"Name",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),d(n,f(Hs,{value:"Size",title:"Size",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const Wf=w('<div class="select-div relative inline-block text-left" value=""><div class="flex justify-center"><button name="sort" type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-1 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"><span class="ml-2">Sort by </span></button></div></div>');function qf(t){const[e,n]=x(!1);function r(s){n(!e())}return(()=>{const s=Wf.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild;return l.firstChild,o.$$click=r,d(l,()=>t.sort,null),d(o,f(Un,{class:"ml-2 h-5 w-5"}),null),d(s,f(Vf,{get show(){return e()},get setSort(){return t.setSort},setShow:n}),null),s})()}j(["click"]);const Jf=w('<button type="button" class="graybutton inline-flex items-center rounded border border-transparent bg-gray-50 px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none drop-shadow-lg"></button>'),Gf=w('<div class="flex mb-2"><label for="search" class="sr-only">Search</label><input type="text" name="search" class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2" placeholder="Search"><div class="relative flex text-xs font-medium text-gray-700 shadow-sm items-center"><div class="flex items-center mr-4"></div></div></div>');function Fn(t){function e(s){t.setSearchText(s.target.value)}function n(s){t.setNotInstalledOnly(!t.notInstalledOnly)}function r(){return t.notInstalledOnly?"Click to show all modules":"Click to show uninstalled modules only"}return(()=>{const s=Gf.cloneNode(!0),i=s.firstChild,o=i.nextSibling,l=o.nextSibling,c=l.firstChild;return o.$$keyup=e,d(c,f(z,{get when(){return t.showUninstalledOnly},get children(){const a=Jf.cloneNode(!0);return a.$$click=n,d(a,f(z,{get when(){return t.notInstalledOnly},get fallback(){return f(Zc,{size:22})},get children(){return f(Yc,{size:22})}})),E(u=>{const g=r(),p=!!t.notInstalledOnly;return g!==u._v$&&V(a,"title",u._v$=g),p!==u._v$2&&a.classList.toggle("checked",u._v$2=p),u},{_v$:void 0,_v$2:void 0}),a}})),d(l,f(qf,{get sort(){return t.sort},get setSort(){return t.setSort}}),null),E(()=>o.value=t.searchText),s})()}j(["keyup","click"]);const Kf=w('<div class="flex items-center justify-center"><p class="text-lg text-gray-700">No module met the criteria.</p></div>'),Qf=w("<div></div>");function zn(t){function e(){return Kf.cloneNode(!0)}return(()=>{const n=Qf.cloneNode(!0);return d(n,f(z,{get when(){return t.moduleNames&&t.moduleNames.length>0},get fallback(){return e()},get children(){return f(oe,{get each(){return t.moduleNames},children:r=>f(Rr,{get children(){return[f(bt,{get when(){return t.side=="local"},get children(){return f(jn,{moduleName:r,get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators}})}}),f(bt,{get when(){return t.side=="remote"},get children(){return f(ue,{moduleName:r})}})]}})})}})),E(()=>Pr(n,`store-filtered-modules overflow-auto grid grid-cols-${t.noCols}`)),n})()}const Xf=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getFilteredRemoteModules:Yf}=Me,{getNotInstalledModules:Zf}=Xe;function eh(t){const[e,n]=x(null),[r,s]=x([]),[i,o]=x(!1),[l,c]=x("Name"),[a,u]=x([]);return se(function(){i()==!0?u(Zf(e(),r(),null,l())):u(Yf(e(),r(),null,l()))}),(()=>{const g=Xf.cloneNode(!0);return d(g,f(Fn,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return i()},setNotInstalledOnly:o,showUninstalledOnly:!0,get sort(){return l()},setSort:c}),null),d(g,f(zn,{kind:"all",side:"remote",noCols:1,get moduleNames(){return a()}}),null),E(()=>g.classList.toggle("hidden",t.filterCategory!="all")),g})()}const th=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto flex"><div class="store-filtered-modules col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto w-[20rem]"></div><div class="ml-8 w-full"></div></div>'),{getFilteredRemoteModules:nh,remoteTags:Vs}=Me,{getNotInstalledModules:rh}=Xe;function sh(t){const[e,n]=x(null),[r,s]=x([]),[i,o]=x("clinical relevance"),[l,c]=x("Name"),[a,u]=x(!1),[g,p]=x([]);return se(function(){a()==!0?p(rh(e(),r(),i(),l())):p(nh(e(),r(),i(),l()))}),(()=>{const h=th.cloneNode(!0),m=h.firstChild,v=m.nextSibling;return d(m,f(oe,{get each(){return Object.keys(Vs()).sort()},children:b=>f(mo,{value:b,get title(){return Vs()[b]},get selectedTag(){return i()},setSelectedTag:o})})),d(v,f(Fn,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return a()},setNotInstalledOnly:u,showUninstalledOnly:!0,get sort(){return l()},setSort:c}),null),d(v,f(zn,{kind:"all",side:"remote",noCols:1,get moduleNames(){return g()}}),null),E(()=>h.classList.toggle("hidden",t.filterCategory!="tags")),h})()}const ih=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getInstalledModules:oh}=Xe;function lh(t){const[e,n]=x(null),[r,s]=x([]),[i,o]=x("Name"),[l,c]=x([]);return se(function(){c(oh(e(),r(),null,null,i()))}),(()=>{const a=ih.cloneNode(!0);return d(a,f(Fn,{kind:"install",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return i()},setSort:o}),null),d(a,f(zn,{kind:"install",side:"remote",noCols:1,get moduleNames(){return l()}}),null),E(()=>a.classList.toggle("hidden",t.filterCategory!="installed")),a})()}const ah=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getInstalledModules:ch}=Xe;function uh(t){const[e,n]=x(null),[r,s]=x([]),[i,o]=x("Name"),[l,c]=x([]);return se(function(){c(ch(e(),r(),null,!0,i()))}),(()=>{const a=ah.cloneNode(!0);return d(a,f(Fn,{kind:"update",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return i()},setSort:o}),null),d(a,f(zn,{kind:"update",side:"remote",noCols:1,get moduleNames(){return l()}}),null),E(()=>a.classList.toggle("hidden",t.filterCategory!="update")),a})()}const dh=w('<button type="button" class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Updates available<span class="inline-flex justify-center items-center ml-2 w-4 h-4 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full"></span></button>'),fh=w('<div class="analysis-module-filter-wrapper col-span-7 grow"><div class="w-full"><div class="inline-flex rounded-md shadow-sm" role="group"></div></div></div>'),{updateAvailable:hh,numUpdateAvailable:gh}=Xe;function mh(t){const[e,n]=x("home");return(()=>{const r=fh.cloneNode(!0),s=r.firstChild,i=s.firstChild;return d(i,f(ft,{value:"home",title:"Home",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),d(i,f(ft,{value:"all",title:"All",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),null),d(i,f(ft,{value:"tags",title:"Tags",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),null),d(i,f(ft,{value:"installed",title:"Installed",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),d(i,f(z,{get when(){return hh()==!0},get children(){const o=dh.cloneNode(!0),l=o.firstChild,c=l.nextSibling;return o.$$click=n,o.$$clickData="update",d(c,gh),o}}),null),d(r,f(zf,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(eh,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(sh,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(lh,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(uh,{get modules(){return t.modules},get filterCategory(){return e()}}),null),r})()}j(["click"]);const ph=w('<div role="tooltip" class="inline-block absolute z-10 p-4 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-lg shadow-lg transition-opacity duration-300 tooltip dark:bg-gray-700 opacity-0 w-[24rem] break-word"><div class="tooltip-arrow" data-popper-arrow></div></div>');function Vr(t){let e;return(()=>{const n=ph.cloneNode(!0),r=n.firstChild,s=e;return typeof s=="function"?Mr(s,n):e=n,d(n,()=>t.text,r),E(i=>{const o=!!t.tooltipShow,l=!!t.tooltipShow,c=t.tooltipTop+"px";return o!==i._v$&&n.classList.toggle("opacity-100",i._v$=o),l!==i._v$2&&n.classList.toggle("visible",i._v$2=l),c!==i._v$3&&n.style.setProperty("top",i._v$3=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()}const bh=w('<img class="w-24 rounded-lg">'),vh=w('<div class="group-hover:block bg-gray-50/60 absolute z-10 w-[6.5rem] h-[6.5rem]"><div class="install_pie absolute top-[1.25rem] left-[1.25rem]"></div><div class="absolute top-0 left-0 p-1 text-xs w-full h-full text-gray-700 break-all"></div></div>'),yh=w('<div class="relative modulecard items-center rounded-lg border border-gray-300 bg-white shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 flex items-center group h-[6.5rem] w-[6.5rem]"><div class="flex justify-center items-center h-full w-full"></div><div class="group-hover:block hidden bg-gray-900/60 absolute z-20 w-full h-full"></div></div>'),_h=w('<span class="break-all"></span>'),{serverUrl:wh}=W,{remoteModules:xh}=Me,{removeFromInstallQueue:kh,installState:Ws,installProgress:$h}=Yt;function Sh(t){const[e,n]=x(!1),r=xh[t.moduleName];function s(){kh(t.moduleName)}function i(){n(!0)}function o(){n(!1)}return(()=>{const l=yh.cloneNode(!0),c=l.firstChild,a=c.nextSibling;return d(c,f(z,{get when(){return r.has_logo},get fallback(){return(()=>{const u=_h.cloneNode(!0);return d(u,()=>r.title),u})()},get children(){const u=bh.cloneNode(!0);return E(()=>V(u,"src",`${wh}/store/remotelogo?module=${t.moduleName}&store=${r.store}`)),u}})),a.addEventListener("mouseleave",o),a.addEventListener("mouseenter",i),d(a,f(Ic,{color:"#ffffff",size:48,class:"m-auto cursor-pointer",style:"height: 6rem;",onClick:s})),d(l,f(z,{get when(){return Ws().module_name==t.moduleName},get children(){const u=vh.cloneNode(!0),g=u.firstChild,p=g.nextSibling;return g.style.setProperty("--b","10px"),g.style.setProperty("--c","rgb(3 105 161)"),d(p,()=>Ws().stage),E(()=>g.style.setProperty("--p",$h())),u}}),null),d(l,f(Vr,{get text(){return r.title},get tooltipShow(){return e()}}),null),E(u=>{const g=r&&r.name,p=r&&r.kind;return g!==u._v$&&V(l,"name",u._v$=g),p!==u._v$2&&V(l,"kind",u._v$2=p),u},{_v$:void 0,_v$2:void 0}),l})()}const Ih=w('<div class="flex items-center justify-center h-[8rem] px-2 flex items-center rounded-lg border border-gray-300 bg-white shadow-sm text-gray-700"><span>No module in installation queue. Add some modules to install.</span></div>'),Ch=w('<div class="h-[8rem] px-2 flex items-center rounded-lg border border-gray-300 bg-white shadow-sm"><div class="flex overflow-auto w-full"></div></div>'),{installQueue:tr}=Yt;function Th(){function t(){return Ih.cloneNode(!0)}return f(z,{get when(){return tr().length>0},get fallback(){return t()},get children(){const e=Ch.cloneNode(!0),n=e.firstChild;return d(n,f(oe,{get each(){return tr()},children:r=>f(Sh,{moduleName:r})})),E(()=>e.classList.toggle("border-blue-500",tr().length>0)),e}})}const Eh=w('<div class="flex-inline"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>');function bo(t){let e=t.width||5,n=t.height||5,r=t.stroke||"currentColor";return(()=>{const s=Eh.cloneNode(!0),i=s.firstChild,o=i.firstChild;return V(i,"class",`hide animate-spin ml-1 h-${e} w-${n} text-white m-auto`),V(o,"stroke",r),E(()=>i.classList.toggle("hidden",!t.show)),s})()}const Ah=w('<div class="h-64 w-64 m-auto flex"><div class="m-auto flex flex-col"><div class="mb-4">Loading store modules...</div><div class="m-auto"></div></div></div>');function Nh(){return(()=>{const t=Ah.cloneNode(!0),e=t.firstChild,n=e.firstChild,r=n.nextSibling;return d(r,f(bo,{show:!0,width:20,height:20,stroke:"#000000"})),t})()}const Oh=w('<div id="tab-store" class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto flex flex-col"></div>');function Rh(){const{remoteModules:t}=Me,{tabName:e}=lt,{addToInstallQueue:n}=Yt,{moduleInstallStates:r}=Xe;return(()=>{const s=Oh.cloneNode(!0);return d(s,f(z,{get when(){return!$n(r)},get fallback(){return f(Nh,{})},get children(){return[f(mh,{addToInstallQueue:n,modules:t}),f(Th,{})]}})),E(()=>s.classList.toggle("hidden",e()!="store")),s})()}function Ph(){const[t,e]=x(null),{serverUrl:n,withCredentials:r}=W,{admin:s}=$e;se(function(){s()==!0&&i()});function i(){F.get(n+"/server/users",{withCredentials:r}).then(function(a){const u=[];for(const g of a.data)g.email!="default"&&u.push(g);e(u)}).catch(function(a){console.error(a),ee(a)})}function o(a){F.get(n+"/server/makeadmin",{params:{email:a},withCredentials:r}).then(function(u){i()}).catch(function(u){ee(u)})}function l(a){F.get(n+"/server/removeadmin",{params:{email:a},withCredentials:r}).then(function(u){i()}).catch(function(u){ee(u)})}function c(a){F.get(n+"/server/removeuser",{params:{email:a},withCredentials:r}).then(function(u){i()}).catch(function(u){ee(u)})}return{users:t,setUsers:e,loadAllUsers:i,makeAdmin:o,removeAdmin:l,removeUser:c}}const Dh=re(Ph),Mh=w('<div class="mt-4"><h3 class="text-lg font-semibold">Users</h3><div class="rounded-lg bg-white shadow mt-2"><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope="col" class="py-3 px-6">Email</th><th scope="col" class="py-3 px-6">Role</th></tr></thead><tbody></tbody></table></div></div>'),Lh=w('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove admin</button>'),Uh=w('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove user</button>'),jh=w('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 group"><td scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></td><td class="py-4 px-6"></td></tr>'),Fh=w('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Make admin</button>');function zh(){const{users:t,makeAdmin:e,removeAdmin:n,removeUser:r}=Dh;return(()=>{const s=Mh.cloneNode(!0),i=s.firstChild,o=i.nextSibling,l=o.firstChild,c=l.firstChild,a=c.nextSibling;return d(a,f(oe,{get each(){return t()},children:u=>(()=>{const g=jh.cloneNode(!0),p=g.firstChild,h=p.nextSibling;return d(p,()=>u.email),d(h,()=>u.role,null),d(h,f(z,{get when(){return u.role=="admin"},get fallback(){return(()=>{const m=Fh.cloneNode(!0);return m.$$click=e,m.$$clickData=u.email,m})()},get children(){const m=Lh.cloneNode(!0);return m.$$click=n,m.$$clickData=u.email,m}}),null),d(h,f(z,{get when(){return u.role!="admin"},get children(){const m=Uh.cloneNode(!0);return m.$$click=r,m.$$clickData=u.email,m}}),null),g})()})),s})()}j(["click"]);const Bh=w('<div class=""><h3 class="text-lg font-semibold mt-8 mb-2">Log</h3><button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Download system log</button></div>');function Hh(){const{serverUrl:t}=W;function e(){F({url:t+"/submit/systemlog",method:"GET",responseType:"blob"}).then(function(n){let r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([n.data],{type:"text/plain"})),r.download=n.headers["content-disposition"].split("=")[1],document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(function(n){console.error(n)})}return(()=>{const n=Bh.cloneNode(!0),r=n.firstChild,s=r.nextSibling;return s.$$click=e,n})()}j(["click"]);const Vh=w('<div id="tab_system" class="tabcontent"><div class="p-4"></div></div>');function Wh(){const{tabName:t}=lt,{multiuser:e}=De;return(()=>{const n=Vh.cloneNode(!0),r=n.firstChild;return d(r,f(z,{get when(){return e()==!0},get children(){return f(zh,{})}}),null),d(r,f(Hh,{}),null),E(()=>n.classList.toggle("hidden",t()!="system")),n})()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qh=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,a=c?t[s+2]:0,u=i>>2,g=(i&3)<<4|l>>4;let p=(l&15)<<2|a>>6,h=a&63;c||(h=64,o||(p=64)),r.push(n[u],n[g],n[p],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vo(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qh(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const a=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||a==null||g==null)throw Error();const p=i<<2|l>>4;if(r.push(p),a!==64){const h=l<<4&240|a>>2;if(r.push(h),g!==64){const m=a<<6&192|g;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Jh=function(t){const e=vo(t);return yo.encodeByteArray(e,!0)},_o=function(t){return Jh(t).replace(/\./g,"")},wo=function(t){try{return yo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function Kh(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xh(){const t=ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yh(){return typeof indexedDB=="object"}function Zh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function eg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=()=>eg().__FIREBASE_DEFAULTS__,ng=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rg=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wo(t[1]);return e&&JSON.parse(e)},Wr=()=>{try{return tg()||ng()||rg()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sg=t=>{var e,n;return(n=(e=Wr())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ig=()=>{var t;return(t=Wr())===null||t===void 0?void 0:t.config},xo=t=>{var e;return(e=Wr())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="FirebaseError";class Ye extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lg,Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ag(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ye(s,l,r)}}function ag(t,e){return t.replace(cg,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cg=/\{\$([^}]+)}/g;function ug(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qs(i)&&qs(o)){if(!Sn(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qs(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Lt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dg(t,e){const n=new fg(t,e);return n.subscribe.bind(n)}class fg{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hg(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nr),s.error===void 0&&(s.error=nr),s.complete===void 0&&(s.complete=nr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hg(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nr(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class _t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new og;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pg(e))try{this.getOrInitializeService({instanceIdentifier:tt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=tt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tt){return this.instances.has(e)}getOptions(e=tt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mg(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tt){return this.component?this.component.multipleInstances?e:tt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mg(t){return t===tt?void 0:t}function pg(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const vg={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},yg=Y.INFO,_g={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},wg=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_g[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ko{constructor(e){this.name=e,this._logLevel=yg,this._logHandler=wg,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const xg=(t,e)=>e.some(n=>t instanceof n);let Js,Gs;function kg(){return Js||(Js=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $g(){return Gs||(Gs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $o=new WeakMap,$r=new WeakMap,So=new WeakMap,rr=new WeakMap,qr=new WeakMap;function Sg(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qe(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$o.set(n,t)}).catch(()=>{}),qr.set(e,t),e}function Ig(t){if($r.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$r.set(t,e)}let Sr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $r.get(t);if(e==="objectStoreNames")return t.objectStoreNames||So.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qe(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cg(t){Sr=t(Sr)}function Tg(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sr(this),e,...n);return So.set(r,e.sort?e.sort():[e]),qe(r)}:$g().includes(t)?function(...e){return t.apply(sr(this),e),qe($o.get(this))}:function(...e){return qe(t.apply(sr(this),e))}}function Eg(t){return typeof t=="function"?Tg(t):(t instanceof IDBTransaction&&Ig(t),xg(t,kg())?new Proxy(t,Sr):t)}function qe(t){if(t instanceof IDBRequest)return Sg(t);if(rr.has(t))return rr.get(t);const e=Eg(t);return e!==t&&(rr.set(t,e),qr.set(e,t)),e}const sr=t=>qr.get(t);function Ag(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=qe(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qe(o.result),c.oldVersion,c.newVersion,qe(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),l}const Ng=["get","getKey","getAll","getAllKeys","count"],Og=["put","add","delete","clear"],ir=new Map;function Ks(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ir.get(e))return ir.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Og.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ng.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let a=c.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),s&&c.done]))[0]};return ir.set(e,i),i}Cg(t=>({...t,get:(e,n,r)=>Ks(e,n)||t.get(e,n,r),has:(e,n)=>!!Ks(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pg(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pg(t){const e=t.getComponent();return e?.type==="VERSION"}const Ir="@firebase/app",Qs="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new ko("@firebase/app"),Dg="@firebase/app-compat",Mg="@firebase/analytics-compat",Lg="@firebase/analytics",Ug="@firebase/app-check-compat",jg="@firebase/app-check",Fg="@firebase/auth",zg="@firebase/auth-compat",Bg="@firebase/database",Hg="@firebase/database-compat",Vg="@firebase/functions",Wg="@firebase/functions-compat",qg="@firebase/installations",Jg="@firebase/installations-compat",Gg="@firebase/messaging",Kg="@firebase/messaging-compat",Qg="@firebase/performance",Xg="@firebase/performance-compat",Yg="@firebase/remote-config",Zg="@firebase/remote-config-compat",em="@firebase/storage",tm="@firebase/storage-compat",nm="@firebase/firestore",rm="@firebase/firestore-compat",sm="firebase",im="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]",om={[Ir]:"fire-core",[Dg]:"fire-core-compat",[Lg]:"fire-analytics",[Mg]:"fire-analytics-compat",[jg]:"fire-app-check",[Ug]:"fire-app-check-compat",[Fg]:"fire-auth",[zg]:"fire-auth-compat",[Bg]:"fire-rtdb",[Hg]:"fire-rtdb-compat",[Vg]:"fire-fn",[Wg]:"fire-fn-compat",[qg]:"fire-iid",[Jg]:"fire-iid-compat",[Gg]:"fire-fcm",[Kg]:"fire-fcm-compat",[Qg]:"fire-perf",[Xg]:"fire-perf-compat",[Yg]:"fire-rc",[Zg]:"fire-rc-compat",[em]:"fire-gcs",[tm]:"fire-gcs-compat",[nm]:"fire-fst",[rm]:"fire-fst-compat","fire-js":"fire-js",[sm]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Map,Tr=new Map;function lm(t,e){try{t.container.addComponent(e)}catch(n){it.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bt(t){const e=t.name;if(Tr.has(e))return it.debug(`There were multiple attempts to register component ${e}.`),!1;Tr.set(e,t);for(const n of In.values())lm(n,t);return!0}function Io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Je=new Zt("app","Firebase",am);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Je.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=im;function Co(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cr,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Je.create("bad-app-name",{appName:String(s)});if(n||(n=ig()),!n)throw Je.create("no-options");const i=In.get(s);if(i){if(Sn(n,i.options)&&Sn(r,i.config))return i;throw Je.create("duplicate-app",{appName:s})}const o=new bg(s);for(const c of Tr.values())o.addComponent(c);const l=new cm(n,r,o);return In.set(s,l),l}function um(t=Cr){const e=In.get(t);if(!e&&t===Cr)return Co();if(!e)throw Je.create("no-app",{appName:t});return e}function gt(t,e,n){var r;let s=(r=om[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),it.warn(l.join(" "));return}Bt(new _t(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="firebase-heartbeat-database",fm=1,Ht="firebase-heartbeat-store";let or=null;function To(){return or||(or=Ag(dm,fm,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ht)}}}).catch(t=>{throw Je.create("idb-open",{originalErrorMessage:t.message})})),or}async function hm(t){var e;try{return(await To()).transaction(Ht).objectStore(Ht).get(Eo(t))}catch(n){if(n instanceof Ye)it.warn(n.message);else{const r=Je.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});it.warn(r.message)}}}async function Xs(t,e){var n;try{const s=(await To()).transaction(Ht,"readwrite");return await s.objectStore(Ht).put(e,Eo(t)),s.done}catch(r){if(r instanceof Ye)it.warn(r.message);else{const s=Je.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});it.warn(s.message)}}}function Eo(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=1024,mm=30*24*60*60*1e3;class pm{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ys();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=mm}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ys(),{heartbeatsToSend:n,unsentEntries:r}=bm(this._heartbeatsCache.heartbeats),s=_o(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ys(){return new Date().toISOString().substring(0,10)}function bm(t,e=gm){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Zs(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zs(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yh()?Zh().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hm(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xs(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xs(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zs(t){return _o(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){Bt(new _t("platform-logger",e=>new Rg(e),"PRIVATE")),Bt(new _t("heartbeat",e=>new pm(e),"PRIVATE")),gt(Ir,Qs,t),gt(Ir,Qs,"esm2017"),gt("fire-js","")}ym("");function Jr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ao(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _m=Ao,No=new Zt("auth","Firebase",Ao());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new ko("@firebase/auth");function mn(t,...e){ei.logLevel<=Y.ERROR&&ei.error(`Auth (${Bn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,...e){throw Gr(t,...e)}function we(t,...e){return Gr(t,...e)}function wm(t,e,n){const r=Object.assign(Object.assign({},_m()),{[e]:n});return new Zt("auth","Firebase",r).create(e,{appName:t.name})}function Gr(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return No.create(t,...e)}function L(t,e,...n){if(!t)throw Gr(e,...n)}function Se(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mn(e),new Error(e)}function Ne(t,e){t||Se(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Map;function Ie(t){Ne(t instanceof Function,"Expected a class definition");let e=ti.get(t);return e?(Ne(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ti.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){const n=Io(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Sn(i,e??{}))return s;ve(s,"already-initialized")}return n.initialize({options:e})}function km(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ie);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $m(){return ni()==="http:"||ni()==="https:"}function ni(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($m()||Kh()||"connection"in navigator)?navigator.onLine:!0}function Im(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ne(n>e,"Short delay should be less than long delay!"),this.isMobile=Gh()||Qh()}get(){return Sm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){Ne(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new tn(3e4,6e4);function nn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ct(t,e,n,r,s={}){return Ro(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=en(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Oo.fetch()(Po(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function Ro(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cm),e);try{const s=new Em(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw cn(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,a]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cn(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw cn(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw cn(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw wm(t,u,a);ve(t,u)}}catch(s){if(s instanceof Ye)throw s;ve(t,"network-request-failed")}}async function Hn(t,e,n,r,s={}){const i=await Ct(t,e,n,r,s);return"mfaPendingCredential"in i&&ve(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Po(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Kr(t.config,s):`${t.config.apiScheme}://${s}`}class Em{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(we(this.auth,"network-request-failed")),Tm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=we(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t,e){return Ct(t,"POST","/v1/accounts:delete",e)}async function Nm(t,e){return Ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Om(t,e=!1){const n=Le(t),r=await n.getIdToken(e),s=Qr(r);L(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Ut(lr(s.auth_time)),issuedAtTime:Ut(lr(s.iat)),expirationTime:Ut(lr(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function lr(t){return Number(t)*1e3}function Qr(t){var e;const[n,r,s]=t.split(".");if(n===void 0||r===void 0||s===void 0)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const i=wo(r);return i?JSON.parse(i):(mn("Failed to decode base64 JWT payload"),null)}catch(i){return mn("Caught error parsing JWT payload as JSON",(e=i)===null||e===void 0?void 0:e.toString()),null}}function Rm(t){const e=Qr(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vt(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ye&&Pm(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Pm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cn(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vt(t,Nm(n,{idToken:r}));L(s?.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Um(i.providerUserInfo):[],l=Lm(t.providerData,o),c=t.isAnonymous,a=!(t.email&&i.passwordHash)&&!l?.length,u=c?a:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Do(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,g)}async function Mm(t){const e=Le(t);await Cn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lm(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Um(t){return t.map(e=>{var{providerId:n}=e,r=Jr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t,e){const n=await Ro(t,{},async()=>{const r=en({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Po(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Oo.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return L(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jm(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wt;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(L(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(L(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return Se("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class st{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Jr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Do(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vt(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Om(this,e)}reload(){return Mm(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new st(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cn(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vt(this,Am(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,a,u;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,h=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(a=n.createdAt)!==null&&a!==void 0?a:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:I,isAnonymous:S,providerData:T,stsTokenManager:A}=n;L(k&&A,e,"internal-error");const C=Wt.fromJSON(this.name,A);L(typeof k=="string",e,"internal-error"),ze(g,e.name),ze(p,e.name),L(typeof I=="boolean",e,"internal-error"),L(typeof S=="boolean",e,"internal-error"),ze(h,e.name),ze(m,e.name),ze(v,e.name),ze(b,e.name),ze(y,e.name),ze(_,e.name);const N=new st({uid:k,auth:e,email:p,emailVerified:I,displayName:g,isAnonymous:S,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:_});return T&&Array.isArray(T)&&(N.providerData=T.map(R=>Object.assign({},R))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wt;s.updateFromServerResponse(n);const i=new st({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cn(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mo.type="NONE";const ri=Mo;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e,n){return`firebase:${t}:${e}:${n}`}class mt{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pn(this.userKey,s.apiKey,i),this.fullPersistenceKey=pn("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?st._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mt(Ie(ri),e,r);const s=(await Promise.all(n.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a);let i=s[0]||Ie(ri);const o=pn(r,e.config.apiKey,e.name);let l=null;for(const a of n)try{const u=await a._get(o);if(u){const g=st._fromJSON(e,u);a!==i&&(l=g),i=a;break}}catch{}const c=s.filter(a=>a._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new mt(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async a=>{if(a!==i)try{await a._remove(o)}catch{}})),new mt(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jo(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lo(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zo(e))return"Blackberry";if(Bo(e))return"Webos";if(Xr(e))return"Safari";if((e.includes("chrome/")||Uo(e))&&!e.includes("edge/"))return"Chrome";if(Fo(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Lo(t=ce()){return/firefox\//i.test(t)}function Xr(t=ce()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uo(t=ce()){return/crios\//i.test(t)}function jo(t=ce()){return/iemobile/i.test(t)}function Fo(t=ce()){return/android/i.test(t)}function zo(t=ce()){return/blackberry/i.test(t)}function Bo(t=ce()){return/webos/i.test(t)}function Vn(t=ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fm(t=ce()){var e;return Vn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zm(){return Xh()&&document.documentMode===10}function Ho(t=ce()){return Vn(t)||Fo(t)||Bo(t)||zo(t)||/windows phone/i.test(t)||jo(t)}function Bm(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e=[]){let n;switch(t){case"Browser":n=si(ce());break;case"Worker":n=`${si(ce())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new Hm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=No,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ie(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await mt.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Cn(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Im()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Le(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ie(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ie(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await mt.create(this,[Ie(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return L(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Wn(t){return Le(t)}class ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=dg(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wm(t,e,n){const r=Wn(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!n?.disableWarnings,i=Wo(e),{host:o,port:l}=qm(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Jm()}function Wo(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qm(t){const e=Wo(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:oi(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:oi(o)}}}function oi(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jm(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Se("not implemented")}_getIdTokenResponse(e){return Se("not implemented")}_linkToIdToken(e,n){return Se("not implemented")}_getReauthenticationResolver(e){return Se("not implemented")}}async function Gm(t,e){return Ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t,e){return Hn(t,"POST","/v1/accounts:signInWithPassword",nn(t,e))}async function Qm(t,e){return Ct(t,"POST","/v1/accounts:sendOobCode",nn(t,e))}async function Xm(t,e){return Qm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e){return Hn(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}async function Zm(t,e){return Hn(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Yr{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qt(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qt(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Km(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ym(e,{email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Gm(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Zm(e,{idToken:n,email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pt(t,e){return Hn(t,"POST","/v1/accounts:signInWithIdp",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="http://localhost";class ot extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ot(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ve("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Jr(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ot(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pt(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pt(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pt(e,n)}buildRequest(){const e={requestUri:ep,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=en(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function np(t){const e=Mt(Lt(t)).link,n=e?Mt(Lt(e)).deep_link_id:null,r=Mt(Lt(t)).deep_link_id;return(r?Mt(Lt(r)).link:null)||r||n||e||t}class Zr{constructor(e){var n,r,s,i,o,l;const c=Mt(Lt(e)),a=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,g=tp((s=c.mode)!==null&&s!==void 0?s:null);L(a&&u&&g,"argument-error"),this.apiKey=a,this.operation=g,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=np(e);try{return new Zr(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(){this.providerId=Tt.PROVIDER_ID}static credential(e,n){return qt._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zr.parseLink(n);return L(r,"argument-error"),qt._fromEmailAndCode(e,r.code,r.tenantId)}}Tt.PROVIDER_ID="password";Tt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends rn{constructor(){super("facebook.com")}static credential(e){return ot._fromParams({providerId:Be.PROVIDER_ID,signInMethod:Be.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Be.credentialFromTaggedObject(e)}static credentialFromError(e){return Be.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Be.credential(e.oauthAccessToken)}catch{return null}}}Be.FACEBOOK_SIGN_IN_METHOD="facebook.com";Be.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends rn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ot._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return He.credential(n,r)}catch{return null}}}He.GOOGLE_SIGN_IN_METHOD="google.com";He.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends rn{constructor(){super("github.com")}static credential(e){return ot._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ve.credential(e.oauthAccessToken)}catch{return null}}}Ve.GITHUB_SIGN_IN_METHOD="github.com";Ve.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends rn{constructor(){super("twitter.com")}static credential(e,n){return ot._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return We.credential(n,r)}catch{return null}}}We.TWITTER_SIGN_IN_METHOD="twitter.com";We.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await st._fromIdTokenResponse(e,r,s),o=li(r);return new wt({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=li(r);return new wt({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function li(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Ye{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tn.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Tn(e,n,r,s)}}function Jo(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Tn._fromErrorAndOperation(t,i,e,r):i})}async function rp(t,e,n=!1){const r=await Vt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wt._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t,e,n=!1){var r;const{auth:s}=t,i="reauthenticate";try{const o=await Vt(t,Jo(s,i,e,t),n);L(o.idToken,s,"internal-error");const l=Qr(o.idToken);L(l,s,"internal-error");const{sub:c}=l;return L(t.uid===c,s,"user-mismatch"),wt._forOperation(t,i,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&ve(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){const r="signIn",s=await Jo(t,r,e),i=await wt._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ip(t,e){return Go(Wn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,n){var r;L(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),L(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(L(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(L(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t,e,n){const r=Le(t),s={requestType:"PASSWORD_RESET",email:e};n&&op(r,s,n),await Xm(r,s)}function ap(t,e,n){return ip(Le(t),Tt.credential(e,n))}function cp(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function up(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function dp(t){return Le(t).signOut()}const En="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){const t=ce();return Xr(t)||Vn(t)}const hp=1e3,gp=10;class Qo extends Ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fp()&&Bm(),this.fallbackToPolling=Ho(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zm()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gp):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qo.type="LOCAL";const mp=Qo;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xo.type="SESSION";const Yo=Xo;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qn(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async a=>a(n.origin,i)),c=await pp(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qn.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const a=es("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const p=g;if(p.data.eventId===a)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:a,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(){return window}function vp(t){xe().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return typeof xe().WorkerGlobalScope<"u"&&typeof xe().importScripts=="function"}async function yp(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _p(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wp(){return Zo()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="firebaseLocalStorageDb",xp=1,An="firebaseLocalStorage",tl="fbase_key";class sn{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jn(t,e){return t.transaction([An],e?"readwrite":"readonly").objectStore(An)}function kp(){const t=indexedDB.deleteDatabase(el);return new sn(t).toPromise()}function Ar(){const t=indexedDB.open(el,xp);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(An,{keyPath:tl})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(An)?e(r):(r.close(),await kp(),e(await Ar()))})})}async function ai(t,e,n){const r=Jn(t,!0).put({[tl]:e,value:n});return new sn(r).toPromise()}async function $p(t,e){const n=Jn(t,!1).get(e),r=await new sn(n).toPromise();return r===void 0?null:r.value}function ci(t,e){const n=Jn(t,!0).delete(e);return new sn(n).toPromise()}const Sp=800,Ip=3;class nl{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ar(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ip)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qn._getInstance(wp()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yp(),!this.activeServiceWorker)return;this.sender=new bp(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_p()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ar();return await ai(e,En,"1"),await ci(e,En),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ai(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$p(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ci(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jn(s,!1).getAll();return new sn(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nl.type="LOCAL";const Cp=nl;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ep(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=we("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Tp().appendChild(r)})}function Ap(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new tn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){return e?Ie(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pt(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Op(t){return Go(t.auth,new ts(t),t.bypassAuthState)}function Rp(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),sp(n,new ts(t),t.bypassAuthState)}async function Pp(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),rp(n,new ts(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(a){this.reject(a)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Op;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return Rp;default:ve(this.auth,"internal-error")}}resolve(e){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new tn(2e3,1e4);class ht extends rl{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ht.currentPopupAction&&ht.currentPopupAction.cancel(),ht.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){Ne(this.filter.length===1,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(we(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ht.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Dp.get())};e()}}ht.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="pendingRedirect",bn=new Map;class Lp extends rl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bn.get(this.auth._key());if(!e){try{const r=await Up(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bn.set(this.auth._key(),e)}return this.bypassAuthState||bn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Up(t,e){const n=zp(e),r=Fp(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jp(t,e){bn.set(t._key(),e)}function Fp(t){return Ie(t._redirectPersistence)}function zp(t){return pn(Mp,t.config.apiKey,t.name)}async function Bp(t,e,n=!1){const r=Wn(t),s=Np(r,e),o=await new Lp(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=10*60*1e3;class Vp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wp(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sl(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(we(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hp&&this.cachedEventUids.clear(),this.cachedEventUids.has(ui(e))}saveEventToCache(e){this.cachedEventUids.add(ui(e)),this.lastProcessedEventTime=Date.now()}}function ui(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Wp(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sl(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(t,e={}){return Ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gp=/^https?/;async function Kp(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qp(t);for(const n of e)try{if(Qp(n))return}catch{}ve(t,"unauthorized-domain")}function Qp(t){const e=Er(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Gp.test(n))return!1;if(Jp.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new tn(3e4,6e4);function di(){const t=xe().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yp(t){return new Promise((e,n)=>{var r,s,i;function o(){di(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{di(),n(we(t,"network-request-failed"))},timeout:Xp.get()})}if(!((s=(r=xe().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=xe().gapi)===null||i===void 0)&&i.load)o();else{const l=Ap("iframefcb");return xe()[l]=()=>{gapi.load?o():n(we(t,"network-request-failed"))},Ep(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vn=null,e})}let vn=null;function Zp(t){return vn=vn||Yp(t),vn}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new tn(5e3,15e3),t0="__/auth/iframe",n0="emulator/auth/iframe",r0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i0(t){const e=t.config;L(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kr(e,n0):`https://${t.config.authDomain}/${t0}`,r={apiKey:e.apiKey,appName:t.name,v:Bn},s=s0.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${en(r).slice(1)}`}async function o0(t){const e=await Zp(t),n=xe().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:i0(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r0,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=we(t,"network-request-failed"),l=xe().setTimeout(()=>{i(o)},e0.get());function c(){xe().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a0=500,c0=600,u0="_blank",d0="http://localhost";class fi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f0(t,e,n,r=a0,s=c0){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},l0),{width:r.toString(),height:s.toString(),top:i,left:o}),a=ce().toLowerCase();n&&(l=Uo(a)?u0:n),Lo(a)&&(e=e||d0,c.scrollbars="yes");const u=Object.entries(c).reduce((p,[h,m])=>`${p}${h}=${m},`,"");if(Fm(a)&&l!=="_self")return h0(e||"",l),new fi(null);const g=window.open(e||"",l,u);L(g,t,"popup-blocked");try{g.focus()}catch{}return new fi(g)}function h0(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__/auth/handler",m0="emulator/auth/handler";function hi(t,e,n,r,s,i){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bn,eventId:s};if(e instanceof qo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ug(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,a]of Object.entries(i||{}))o[c]=a}if(e instanceof rn){const c=e.getScopes().filter(a=>a!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];return`${p0(t)}?${en(l).slice(1)}`}function p0({config:t}){return t.emulator?Kr(t,m0):`https://${t.authDomain}/${g0}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="webStorageSupport";class b0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yo,this._completeRedirectFn=Bp,this._overrideRedirectResult=jp}async _openPopup(e,n,r,s){var i;Ne((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=hi(e,n,r,Er(),s);return f0(e,o,es())}async _openRedirect(e,n,r,s){return await this._originValidation(e),vp(hi(e,n,r,Er(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ne(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o0(e),r=new Vp(e);return n.register("authEvent",s=>(L(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ar,{type:ar},s=>{var i;const o=(i=s?.[0])===null||i===void 0?void 0:i[ar];o!==void 0&&n(!!o),ve(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kp(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ho()||Xr()||Vn()}}const v0=b0;var gi="@firebase/auth",mi="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var s;e(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function w0(t){Bt(new _t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((l,c)=>{L(i&&!i.includes(":"),"invalid-api-key",{appName:l.name}),L(!o?.includes(":"),"argument-error",{appName:l.name});const a={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(t)},u=new Vm(l,c,a);return km(u,n),u})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bt(new _t("auth-internal",e=>{const n=Wn(e.getProvider("auth").getImmediate());return(r=>new y0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(gi,mi,_0(t)),gt(gi,mi,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=5*60,k0=xo("authIdTokenMaxAge")||x0;let pi=null;const $0=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k0)return;const s=n?.token;pi!==s&&(pi=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function S0(t=um()){const e=Io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xm(t,{popupRedirectResolver:v0,persistence:[Cp,mp,Yo]}),r=xo("authTokenSyncURL");if(r){const i=$0(r);up(n,i,()=>i(n.currentUser)),cp(n,o=>i(o))}const s=sg("auth");return s&&Wm(n,`http://${s}`),n}w0("Browser");function I0(){const[t,e]=x(null),[n,r]=x(null),[s,i]=x(!0),[o,l]=x(!0),[c,a]=x(""),[u,g]=x("");function p(){h(),m()}function h(){if(!t()||t().length==0){a("Please enter an email."),i(!0);return}let v=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+$/;if(!t().match(v)){a("Email is invalid."),i(!0);return}a(""),i(!1)}function m(){if(!n()||n().length==0){g("Please enter a password."),l(!0);return}let v=/^[a-zA-Z0-9.!?#$%&^_@*]+$/;if(!n().match(v)){g("Password is invalid (a-z, A-Z, 0-9, .!?#$%&^_@* allowed)."),l(!0);return}return g(""),l(!1),!0}return{email:t,setEmail:e,password:n,setPassword:r,errorInEmail:s,setErrorInEmail:i,errorInPassword:o,setErrorInPassword:l,checkEmailAndPassword:p,emailErrorMsg:c,passwordErrorMsg:u}}const on=re(I0);var C0="firebase",T0="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt(C0,T0,"app");const E0={apiKey:"AIzaSyC9oGhGaax8DlSh-w9pC3TCeIJZzxAw-XU",authDomain:"oakvar-app.firebaseapp.com",projectId:"oakvar-app",storageBucket:"oakvar-app.appspot.com",messagingSenderId:"1070951630158",appId:"1:1070951630158:web:885d40bf4a42a1fc4cca1f",measurementId:"G-0PV5B1ZF6B"},A0=Co(E0);function N0(){const[t,e]=x(null);return e(S0(A0)),{auth:t}}const il=re(N0),O0=w('<div id="tab_account" class="tabcontent p-4"><p class="text-gray-600"></p><button type="button" class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mt-2">Logout</button></div>'),{tabName:R0}=lt,{email:P0}=on,{auth:D0}=il;function M0(){function t(){dp(D0()).catch(function(e){console.error(e)})}return(()=>{const e=O0.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return d(n,P0),r.$$click=t,E(()=>e.classList.toggle("hidden",R0()!="account")),e})()}j(["click"]);const L0=w('<div class="md:pl-36 flex flex-col flex-1"><main class="flex-1"><div class=""><div class="mx-auto"><div></div></div></div></main></div>');function U0(){const[t,e]=x(!1),{multiuser:n}=De,{logged:r,admin:s}=$e;return(()=>{const i=L0.cloneNode(!0),o=i.firstChild,l=o.firstChild,c=l.firstChild,a=c.firstChild;return d(a,f(Du,{}),null),d(a,f(sf,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),d(a,f(Af,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),d(a,f(Rh,{}),null),d(a,f(z,{get when(){return n()==!1||s()==!0},get children(){return f(Wh,{})}}),null),d(a,f(z,{get when(){return n()==!0},get children(){return f(M0,{})}}),null),i})()}function ol(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Et=ol();function j0(t){Et=t}const ll=/[&<>"']/,F0=new RegExp(ll.source,"g"),al=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,z0=new RegExp(al.source,"g"),B0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bi=t=>B0[t];function ie(t,e){if(e){if(ll.test(t))return t.replace(F0,bi)}else if(al.test(t))return t.replace(z0,bi);return t}const H0=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function cl(t){return t.replace(H0,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const V0=/(^|[^\[])\^/g;function X(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,s)=>(s=s.source||s,s=s.replace(V0,"$1"),t=t.replace(r,s),n),getRegex:()=>new RegExp(t,e)};return n}const W0=/[^\w:]/g,q0=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function vi(t,e,n){if(t){let r;try{r=decodeURIComponent(cl(n)).replace(W0,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!q0.test(n)&&(n=Q0(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const un={},J0=/^[^:]+:\/*[^/]*$/,G0=/^([^:]+:)[\s\S]*$/,K0=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Q0(t,e){un[" "+t]||(J0.test(t)?un[" "+t]=t+"/":un[" "+t]=yn(t,"/",!0)),t=un[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(G0,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(K0,"$1")+e:t+e}const Nn={exec:function(){}};function ye(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function yi(t,e){const n=t.replace(/\|/g,(i,o,l)=>{let c=!1,a=o;for(;--a>=0&&l[a]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function yn(t,e,n){const r=t.length;if(r===0)return"";let s=0;for(;s<r;){const i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function X0(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,s=0;for(;s<n;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])r++;else if(t[s]===e[1]&&(r--,r<0))return s;return-1}function ul(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _i(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function wi(t,e,n,r){const s=e.href,i=e.title?ie(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:s,title:i,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:s,title:i,text:ie(o)}}function Y0(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[o]=i;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}class ns{constructor(e){this.options=e||Et}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:yn(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],s=Y0(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const s=yn(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,s,i,o,l,c,a,u,g,p,h,m,v=n[1].trim();const b=v.length>1,y={type:"list",raw:"",ordered:b,start:b?+v.slice(0,-1):"",loose:!1,items:[]};v=b?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=b?v:"[*+-]");const _=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(n=_.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),u=n[2].split(`
`,1)[0],g=e.split(`
`,1)[0],this.options.pedantic?(o=2,h=u.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,h=u.slice(o),o+=n[1].length),c=!1,!u&&/^ *$/.test(g)&&(r+=g+`
`,e=e.substring(g.length+1),m=!0),!m){const I=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],u=p,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(T.test(u)||A.test(u)||I.test(u)||S.test(e)));){if(u.search(/[^ ]/)>=o||!u.trim())h+=`
`+u.slice(o);else if(!c)h+=`
`+u;else break;!c&&!u.trim()&&(c=!0),r+=p+`
`,e=e.substring(p.length+1)}}y.loose||(a?y.loose=!0:/\n *\n *$/.test(r)&&(a=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(i=s[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:r,task:!!s,checked:i,loose:!1,text:h}),y.raw+=r}y.items[y.items.length-1].raw=r.trimRight(),y.items[y.items.length-1].text=h.trimRight(),y.raw=y.raw.trimRight();const k=y.items.length;for(l=0;l<k;l++){this.lexer.state.top=!1,y.items[l].tokens=this.lexer.blockTokens(y.items[l].text,[]);const I=y.items[l].tokens.filter(T=>T.type==="space"),S=I.every(T=>{const A=T.raw.split("");let C=0;for(const N of A)if(N===`
`&&(C+=1),C>1)return!0;return!1});!y.loose&&I.length&&S&&(y.loose=!0,y.items[l].loose=!0)}return y}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(n[0]):ie(n[0]);r.type="paragraph",r.text=s,r.tokens=this.lexer.inline(s)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:yi(n[1]).map(s=>({text:s})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let s=r.align.length,i,o,l,c;for(i=0;i<s;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(s=r.rows.length,i=0;i<s;i++)r.rows[i]=yi(r.rows[i],r.header.length).map(a=>({text:a}));for(s=r.header.length,o=0;o<s;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(s=r.rows.length,o=0;o<s;o++)for(c=r.rows[o],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:ie(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):ie(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=yn(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=X0(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),wi(n,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let s=(r[2]||r[1]).replace(/\s+/g," ");if(s=n[s.toLowerCase()],!s){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return wi(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=s[1]||s[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){const o=s[0].length-1;let l,c,a=o,u=0;const g=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,n=n.slice(-1*e.length+o);(s=g.exec(n))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(c=l.length,s[3]||s[4]){a+=c;continue}else if((s[5]||s[6])&&o%3&&!((o+c)%3)){u+=c;continue}if(a-=c,a>0)continue;c=Math.min(c,c+a+u);const p=e.slice(0,o+s.index+(s[0].length-l.length)+c);if(Math.min(o,c)%2){const m=p.slice(1,-1);return{type:"em",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}const h=p.slice(2,-2);return{type:"strong",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const s=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return s&&i&&(r=r.substring(1,r.length-1)),r=ie(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let s,i;return r[2]==="@"?(s=ie(this.options.mangle?n(r[1]):r[1]),i="mailto:"+s):(s=ie(r[1]),i=s),{type:"link",raw:r[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let s,i;if(r[2]==="@")s=ie(this.options.mangle?n(r[0]):r[0]),i="mailto:"+s;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(o!==r[0]);s=ie(r[0]),r[1]==="www."?i="http://"+s:i=s}return{type:"link",raw:r[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ie(r[0]):r[0]:s=ie(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:s}}}}const M={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Nn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};M._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;M._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;M.def=X(M.def).replace("label",M._label).replace("title",M._title).getRegex();M.bullet=/(?:[*+-]|\d{1,9}[.)])/;M.listItemStart=X(/^( *)(bull) */).replace("bull",M.bullet).getRegex();M.list=X(M.list).replace(/bull/g,M.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+M.def.source+")").getRegex();M._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";M._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;M.html=X(M.html,"i").replace("comment",M._comment).replace("tag",M._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();M.paragraph=X(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex();M.blockquote=X(M.blockquote).replace("paragraph",M.paragraph).getRegex();M.normal=ye({},M);M.gfm=ye({},M.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});M.gfm.table=X(M.gfm.table).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex();M.gfm.paragraph=X(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",M.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex();M.pedantic=ye({},M.normal,{html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",M._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:X(M.normal._paragraph).replace("hr",M.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",M.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const O={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Nn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Nn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};O._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";O.punctuation=X(O.punctuation).replace(/punctuation/g,O._punctuation).getRegex();O.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;O.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;O._comment=X(M._comment).replace("(?:-->|$)","-->").getRegex();O.emStrong.lDelim=X(O.emStrong.lDelim).replace(/punct/g,O._punctuation).getRegex();O.emStrong.rDelimAst=X(O.emStrong.rDelimAst,"g").replace(/punct/g,O._punctuation).getRegex();O.emStrong.rDelimUnd=X(O.emStrong.rDelimUnd,"g").replace(/punct/g,O._punctuation).getRegex();O._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;O._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;O._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;O.autolink=X(O.autolink).replace("scheme",O._scheme).replace("email",O._email).getRegex();O._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;O.tag=X(O.tag).replace("comment",O._comment).replace("attribute",O._attribute).getRegex();O._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;O._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;O._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;O.link=X(O.link).replace("label",O._label).replace("href",O._href).replace("title",O._title).getRegex();O.reflink=X(O.reflink).replace("label",O._label).replace("ref",M._label).getRegex();O.nolink=X(O.nolink).replace("ref",M._label).getRegex();O.reflinkSearch=X(O.reflinkSearch,"g").replace("reflink",O.reflink).replace("nolink",O.nolink).getRegex();O.normal=ye({},O);O.pedantic=ye({},O.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",O._label).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",O._label).getRegex()});O.gfm=ye({},O.normal,{escape:X(O.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});O.gfm.url=X(O.gfm.url,"i").replace("email",O.gfm._extended_email).getRegex();O.breaks=ye({},O.gfm,{br:X(O.br).replace("{2,}","*").getRegex(),text:X(O.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Z0(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function xi(t){let e="",n,r;const s=t.length;for(n=0;n<s;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Oe{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Et,this.options.tokenizer=this.options.tokenizer||new ns,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:M.normal,inline:O.normal};this.options.pedantic?(n.block=M.pedantic,n.inline=O.pedantic):this.options.gfm&&(n.block=M.gfm,this.options.breaks?n.inline=O.breaks:n.inline=O.gfm),this.tokenizer.rules=n}static get rules(){return{block:M,inline:O}}static lex(e,n){return new Oe(n).lex(e)}static lexInline(e,n){return new Oe(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,a)=>c+"    ".repeat(a.length));let r,s,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let a;this.options.extensions.startBlock.forEach(function(u){a=u.call({lexer:this},c),typeof a=="number"&&a>=0&&(l=Math.min(l,a))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){s=n[n.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r),o=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,s,i,o=e,l,c,a;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+_i("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+_i("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(c||(a=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,a)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,xi)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,xi))){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const g=e.slice(1);let p;this.options.extensions.startInline.forEach(function(h){p=h.call({lexer:this},g),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(i=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(i,Z0)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(a=r.raw.slice(-1)),c=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class rs{constructor(e){this.options=e||Et}code(e,n,r){const s=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,s);i!=null&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+ie(s)+'">'+(r?e:ie(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:ie(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,s){if(this.options.headerIds){const i=this.options.headerPrefix+s.slug(r);return`<h${n} id="${i}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const s=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=vi(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image(e,n,r){if(e=vi(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class dl{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class fl{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,s=0;if(this.seen.hasOwnProperty(r)){s=this.seen[e];do s++,r=e+"-"+s;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=s,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class ke{constructor(e){this.options=e||Et,this.options.renderer=this.options.renderer||new rs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new dl,this.slugger=new fl}static parse(e,n){return new ke(n).parse(e)}static parseInline(e,n){return new ke(n).parseInline(e)}parse(e,n=!0){let r="",s,i,o,l,c,a,u,g,p,h,m,v,b,y,_,k,I,S,T;const A=e.length;for(s=0;s<A;s++){if(h=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(T=this.options.extensions.renderers[h.type].call({parser:this},h),T!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){r+=T||"";continue}switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,cl(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(g="",u="",l=h.header.length,i=0;i<l;i++)u+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(g+=this.renderer.tablerow(u),p="",l=h.rows.length,i=0;i<l;i++){for(a=h.rows[i],u="",c=a.length,o=0;o<c;o++)u+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});p+=this.renderer.tablerow(u)}r+=this.renderer.table(g,p);continue}case"blockquote":{p=this.parse(h.tokens),r+=this.renderer.blockquote(p);continue}case"list":{for(m=h.ordered,v=h.start,b=h.loose,l=h.items.length,p="",i=0;i<l;i++)_=h.items[i],k=_.checked,I=_.task,y="",_.task&&(S=this.renderer.checkbox(k),b?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=S+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=S+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:S}):y+=S),y+=this.parse(_.tokens,b),p+=this.renderer.listitem(y,I,k);r+=this.renderer.list(p,m,v);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(p=h.tokens?this.parseInline(h.tokens):h.text;s+1<A&&e[s+1].type==="text";)h=e[++s],p+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(p):p;continue}default:{const C='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(C);return}else throw new Error(C)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",s,i,o;const l=e.length;for(s=0;s<l;s++){if(i=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(o=this.options.extensions.renderers[i.type].call({parser:this},i),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){r+=o||"";continue}switch(i.type){case"escape":{r+=n.text(i.text);break}case"html":{r+=n.html(i.text);break}case"link":{r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{r+=n.image(i.href,i.title,i.text);break}case"strong":{r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{r+=n.codespan(i.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(i.tokens,n));break}case"text":{r+=n.text(i.text);break}default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return r}}function U(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ye({},U.defaults,e||{}),ul(e),n){const s=e.highlight;let i;try{i=Oe.lex(t,e)}catch(c){return n(c)}const o=function(c){let a;if(!c)try{e.walkTokens&&U.walkTokens(i,e.walkTokens),a=ke.parse(i,e)}catch(u){c=u}return e.highlight=s,c?n(c):n(null,a)};if(!s||s.length<3||(delete e.highlight,!i.length))return o();let l=0;U.walkTokens(i,function(c){c.type==="code"&&(l++,setTimeout(()=>{s(c.text,c.lang,function(a,u){if(a)return o(a);u!=null&&u!==c.text&&(c.text=u,c.escaped=!0),l--,l===0&&o()})},0))}),l===0&&o();return}function r(s){if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ie(s.message+"",!0)+"</pre>";throw s}try{const s=Oe.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(U.walkTokens(s,e.walkTokens)).then(()=>ke.parse(s,e)).catch(r);U.walkTokens(s,e.walkTokens)}return ke.parse(s,e)}catch(s){r(s)}}U.options=U.setOptions=function(t){return ye(U.defaults,t),j0(U.defaults),U};U.getDefaults=ol;U.defaults=Et;U.use=function(...t){const e=U.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r=ye({},n);if(r.async=U.defaults.async||r.async,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=i.apply(this,o)),l}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){const s=U.defaults.renderer||new rs;for(const i in n.renderer){const o=s[i];s[i]=(...l)=>{let c=n.renderer[i].apply(s,l);return c===!1&&(c=o.apply(s,l)),c}}r.renderer=s}if(n.tokenizer){const s=U.defaults.tokenizer||new ns;for(const i in n.tokenizer){const o=s[i];s[i]=(...l)=>{let c=n.tokenizer[i].apply(s,l);return c===!1&&(c=o.apply(s,l)),c}}r.tokenizer=s}if(n.walkTokens){const s=U.defaults.walkTokens;r.walkTokens=function(i){let o=[];return o.push(n.walkTokens.call(this,i)),s&&(o=o.concat(s.call(this,i))),o}}U.setOptions(r)})};U.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(U,r)),r.type){case"table":{for(const s of r.header)n=n.concat(U.walkTokens(s.tokens,e));for(const s of r.rows)for(const i of s)n=n.concat(U.walkTokens(i.tokens,e));break}case"list":{n=n.concat(U.walkTokens(r.items,e));break}default:U.defaults.extensions&&U.defaults.extensions.childTokens&&U.defaults.extensions.childTokens[r.type]?U.defaults.extensions.childTokens[r.type].forEach(function(s){n=n.concat(U.walkTokens(r[s],e))}):r.tokens&&(n=n.concat(U.walkTokens(r.tokens,e)))}return n};U.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ye({},U.defaults,e||{}),ul(e);try{const n=Oe.lexInline(t,e);return e.walkTokens&&U.walkTokens(n,e.walkTokens),ke.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ie(n.message+"",!0)+"</pre>";throw n}};U.Parser=ke;U.parser=ke.parse;U.Renderer=rs;U.TextRenderer=dl;U.Lexer=Oe;U.lexer=Oe.lex;U.Tokenizer=ns;U.Slugger=fl;U.parse=U;U.options;U.setOptions;U.use;U.walkTokens;U.parseInline;ke.parse;Oe.lex;const eb=w('<div><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-4"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope="col" class="py-3 px-6">Name</th><th scope="col" class="py-3 px-6">Type</th><th scope="col" class="py-3 px-6">Description</th></tr></thead><tbody></tbody></table></div>'),tb=w('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700"><th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></th><td class="py-4 px-6"></td><td class="py-4 px-6"></td></tr>');function hl(t){return(()=>{const e=eb.cloneNode(!0),n=e.firstChild,r=n.firstChild,s=r.nextSibling;return d(s,f(oe,{get each(){return t.outputColumns},children:i=>(()=>{const o=tb.cloneNode(!0),l=o.firstChild,c=l.nextSibling,a=c.nextSibling;return d(l,()=>i.title),d(c,()=>i.type),d(a,()=>i.desc,null),d(a,f(z,{get when(){return i.table},get children(){return f(hl,{get outputColumns(){return i.table_headers}})}}),null),o})()})),e})()}const nb=w('<div><h3 class="text-lg font-semibold mt-8">Developer information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-2"><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> </div>');function rb(t){return(()=>{const e=nb.cloneNode(!0),n=e.firstChild,r=n.nextSibling,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.nextSibling,a=o.nextSibling,u=a.firstChild,g=u.nextSibling,p=a.nextSibling,h=p.firstChild,m=h.nextSibling,v=m.firstChild,b=p.nextSibling,y=b.firstChild,_=y.nextSibling,k=_.firstChild,I=b.nextSibling,S=I.firstChild,T=S.nextSibling;return d(c,()=>t.module.name),d(g,()=>t.module.organization),d(v,()=>t.module.email),d(k,()=>t.module.website),d(T,()=>t.module.citation),E(A=>{const C="mailto:"+t.module.email,N=t.module.website;return C!==A._v$&&V(v,"href",A._v$=C),N!==A._v$2&&V(k,"href",A._v$2=N),A},{_v$:void 0,_v$2:void 0}),e})()}const sb=w('<div><h3 class="text-lg font-semibold mt-8">Data information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-2"><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> </div>');function ib(t){return(()=>{const e=sb.cloneNode(!0),n=e.firstChild,r=n.nextSibling,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.nextSibling,a=o.nextSibling,u=a.firstChild,g=u.nextSibling,p=a.nextSibling,h=p.firstChild,m=h.nextSibling,v=m.firstChild,b=p.nextSibling,y=b.firstChild,_=y.nextSibling,k=_.firstChild,I=b.nextSibling,S=I.firstChild,T=S.nextSibling;return d(c,()=>t.data.name),d(g,()=>t.data.organization),d(v,()=>t.data.email),d(k,()=>t.data.website),d(T,()=>t.data.citation),E(A=>{const C="mailto:"+t.data.email,N=t.data.website;return C!==A._v$&&V(v,"href",A._v$=C),N!==A._v$2&&V(k,"href",A._v$2=N),A},{_v$:void 0,_v$2:void 0}),e})()}const ob=w('<div class="absolute w-full h-full bg-white opacity-1 top-0 left-0 z-30"><div class="absolute opacity-1 top-[5vh] left-[10vw] w-[80vw] h-[80vh] overflow-auto bg-gray-50 z-30 m-4 p-8"><img class="w-0 top-0 right-0 rounded-lg"><div class="-ml-1 mb-2"><span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed</span><span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">Update available</span></div><div class="readme opacity-1 list-decimal mb-8"></div><h3 class="text-lg font-semibold">Module output</h3></div><div class="absolute top-0 right-0 cursor-pointer"></div></div>'),lb=/img src=\"(?!http)/g;function ab(){const{detailModuleName:t,setDetailModuleName:e,showDetailCard:n,setShowDetailCard:r}=po,{serverUrl:s}=W,[i,{mutate:o,refetch:l}]=Jt(t,h),{remoteModules:c}=Me,{installed:a,updateAvailableForModule:u}=Xe,[g,p]=x(null);se(function(){t()!=null&&p(c[t()])});async function h(v){try{const b=await F.get(s+"/store/getreadme",{params:{module_name:v}});let y=U.parse(b.data);return y=y.replace(lb,'img src="https://karchinlab.org/cravatstore/modules/'+v+"/"+g().latest_version+"/"),y}catch(b){console.error(b),ee(b)}}function m(){r(!1),e(null),o(null)}return f(z,{get when(){return be(()=>!!n())()&&i()!=null},get children(){const v=ob.cloneNode(!0),b=v.firstChild,y=b.firstChild,_=y.nextSibling,k=_.firstChild,I=k.nextSibling,S=I.nextSibling,T=S.nextSibling,A=_.nextSibling;A.nextSibling;const C=b.nextSibling;return d(k,()=>g().type),d(I,()=>lo(g().size)),d(b,f(hl,{get outputColumns(){return g().output_columns}}),null),d(b,f(rb,{get module(){return g().developer.module}}),null),d(b,f(ib,{get data(){return g().developer.data}}),null),C.$$click=m,d(C,f(eo,{color:"rgb(107 114 128)",size:64})),E(N=>{const R=`${s}/store/remotelogo?module=${g().name}&store=${g().store}`,P=!a(t()),D=!u(t()),G=i();return R!==N._v$&&V(y,"src",N._v$=R),P!==N._v$2&&S.classList.toggle("hidden",N._v$2=P),D!==N._v$3&&T.classList.toggle("hidden",N._v$3=D),G!==N._v$4&&(A.innerHTML=N._v$4=G),N},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),v}})}j(["click"]);const cb=w('<div class="h-full"></div>');function ub(){const{appLoading:t}=Ln;return(()=>{const e=cb.cloneNode(!0);return d(e,f(ku,{}),null),d(e,f(U0,{}),null),d(e,f(Vr,{}),null),d(e,f(ab,{}),null),E(()=>e.classList.toggle("hidden",!!t())),e})()}const db=w('<div class="h-screen w-screen grid place-items-center"><img class="h-96 animate-pulse"></div>');function fb(){const{serverUrl:t}=W,{appLoading:e}=Ln;return(()=>{const n=db.cloneNode(!0),r=n.firstChild;return V(r,"src",t+"/submit/images/logo_transparent.png"),E(()=>n.classList.toggle("hidden",!e())),n})()}const hb=w('<div id="error-dialog" class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:max-w-sm sm:p-6"><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100"><svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5v3.75m-9.303 3.376C1.83 19.126 2.914 21 4.645 21h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 4.88c-.866-1.501-3.032-1.501-3.898 0L2.697 17.626zM12 17.25h.007v.008H12v-.008z"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class="mt-2"><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm">Dismiss</button></div></div></div></div></div>');function ss(){const{showErrorDialog:t,setShowErrorDialog:e,errorDialogTitle:n,errorDialogText:r,getErrorText:s,showDismiss:i}=Qt;return f(z,{get when(){return t()},get children(){const o=hb.cloneNode(!0),l=o.firstChild,c=l.nextSibling,a=c.firstChild,u=a.firstChild,g=u.firstChild,p=g.firstChild,h=p.nextSibling,m=h.firstChild,v=m.nextSibling,b=v.firstChild,y=g.nextSibling,_=y.firstChild;return d(m,n),d(b,s),_.$$click=e,_.$$clickData=!1,E(k=>{const I={"sm:max-w-3xl":r().length>200},S=!i();return k._v$=Dr(u,I,k._v$),S!==k._v$2&&y.classList.toggle("hidden",k._v$2=S),k},{_v$:void 0,_v$2:void 0}),o}})}j(["click"]);const gb=w('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-8">Welcome to OakVar!</p><p class="mt-4">Get ready to explore the world of genomics like never before with OakVar!</p><p class="mt-4">With our platform, you can effortlessly analyze your own genome or dive into exciting new research with genome data.</p><p class="mt-4">Say goodbye to complicated processes and hello to a new world of discovery.</p><p class="mt-4">- Oak Bioinformatics, LLC</p><button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Start</button></div></div></div></div>');function mb(t){const{serverUrl:e}=W;function n(){t.setPageNo(2)}return(()=>{const r=gb.cloneNode(!0),s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.nextSibling,a=c.nextSibling,u=a.nextSibling,g=u.nextSibling,p=g.nextSibling,h=p.nextSibling;return V(l,"src",e+"/submit/images/logo.png"),h.$$click=n,E(()=>r.classList.toggle("hidden",t.pageNo!=1)),r})()}j(["click"]);const pb=w('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><div class="flex flex-col mt-4">Do you already have an OakVar account?<button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Yes</button><button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">No</button></div></div></div></div></div>');function bb(t){const{serverUrl:e,withCredentials:n}=W,r=2;function s(){t.setPrevPageNo(r),t.setPageNo(4)}function i(){t.setPrevPageNo(r),t.setPageNo(3)}return(()=>{const o=pb.cloneNode(!0),l=o.firstChild,c=l.firstChild,a=c.firstChild,u=a.firstChild,g=u.nextSibling,p=g.firstChild,h=p.nextSibling,m=h.nextSibling;return d(a,f(Xt,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),u),V(u,"src",e+"/submit/images/logo.png"),h.$$click=s,m.$$click=i,E(()=>o.classList.toggle("hidden",t.pageNo!=r)),o})()}j(["click"]);const vb=w('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class="mt-2"><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Dismiss</button></div></div></div></div></div>');function gl(t){return(()=>{const e=vb.cloneNode(!0),n=e.firstChild,r=n.nextSibling,s=r.firstChild,i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.nextSibling,a=c.firstChild,u=a.nextSibling,g=u.firstChild,p=o.nextSibling,h=p.firstChild;return d(a,()=>t.title),d(g,()=>t.text),Rn(h,"click",t.callback,!0),e})()}j(["click"]);const yb=w('<div><div class="mt-4"><label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label><input type="email" name="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="name@company.com" required></div><div><span class="text-orange-500"></span></div><div class="mt-4"><label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label><input type="password" name="password" placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" required></div><div><span class="text-orange-500"></span></div></div>');function ml(t){const{setEmail:e,setPassword:n,errorInEmail:r,errorInPassword:s,checkEmailAndPassword:i,emailErrorMsg:o,passwordErrorMsg:l}=on;function c(){return!r()&&!s()}function a(g){e(g.target.value),i(),g.keyCode==13&&c()&&t.submit("email")}function u(g){n(g.target.value),i(),g.keyCode==13&&c()&&t.submit("email")}return(()=>{const g=yb.cloneNode(!0),p=g.firstChild,h=p.firstChild,m=h.nextSibling,v=p.nextSibling,b=v.firstChild,y=v.nextSibling,_=y.firstChild,k=_.nextSibling,I=y.nextSibling,S=I.firstChild;return m.$$keyup=a,d(b,o),k.$$keyup=u,d(S,l),g})()}j(["keyup"]);const _b=w('<div class="flex"><div class="w-[64rem]"><a href="#" class="text-sm font-medium text-blue-600 hover:underline dark:text-primary-500">Forgot password?</a><button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Sign in</button></div></div>');function wb(t){x("signin");const[e,n]=x(!1);x(!1);const[r,s]=x(!1),[i,o]=x(null),[l,c]=x(null),{setShowErrorDialog:a,setErrorDialogTitle:u,setErrorDialogText:g}=Qt,p={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{serverUrl:h,withCredentials:m}=W,{email:v,setEmail:b,password:y,errorInEmail:_}=on,{auth:k}=il,{setAppLoading:I}=Ln,{setLogged:S,setAdmin:T}=$e;let A=()=>{s(!1)};function C(D){F.post(h+"/server/loginsuccess",{email:D},{withCredentials:m}).then(function(G){b(G.data.email),T(G.data.admin),n(!1),S(!0),I(!1),t.signedInCallback()}).catch(function(G){N(G,"Login failed"),n(!1)})}function N(D,G){if(D.response&&(D=D.response.data),D.code=="auth/popup-closed-by-user"){n(!1);return}u(G);let Q=p[D.code];Q?g(Q):(g("Error code: "+D.code),console.error(D)),a(!0)}function R(){n(!0),ap(k(),v(),y()).then(function(D){C(D.user.email)}).catch(function(D){N(D,"Login failed"),n(!1)})}function P(){_()||lp(k(),v()).then(function(){o("Success"),c("Please check your email for a password reset link."),s(!0)}).catch(function(D){N(D,"Password reset failed")})}return(()=>{const D=_b.cloneNode(!0),G=D.firstChild,Q=G.firstChild,te=Q.nextSibling;return d(G,f(ml,{submit:R}),Q),Q.$$click=P,te.$$click=R,d(D,f(ss,{}),null),d(D,f(z,{get when(){return r()},get children(){return f(gl,{get title(){return i()},get text(){return l()},callback:A})}}),null),E(Z=>{const K=!!_(),H=!!_();return K!==Z._v$&&Q.classList.toggle("pointer-events-none",Z._v$=K),H!==Z._v$2&&Q.classList.toggle("text-blue-100",Z._v$2=H),Z},{_v$:void 0,_v$2:void 0}),D})()}j(["click"]);const xb=w(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">Welcome back! We're so glad to see you again. Please go ahead and sign in. We've been waiting for you!</p></div></div></div></div>`);function kb(t){const{serverUrl:n,withCredentials:r}=W;x(null);function s(){t.setPrevPageNo(4),t.setPageNo(5)}return(()=>{const i=xb.cloneNode(!0),o=i.firstChild,l=o.firstChild,c=l.firstChild,a=c.firstChild;return a.nextSibling,d(c,f(Xt,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),V(a,"src",n+"/submit/images/logo.png"),d(c,f(wb,{signedInCallback:s}),null),E(()=>i.classList.toggle("hidden",t.pageNo!=4)),i})()}const $b=w('<div class="flex"><div class="w-[64rem]"><div><button id="signup_btn" type="submit" class="mt-4 flex w-full justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Sign up</button></div></div></div>');function Sb(t){const[e,n]=x(!1),[r,s]=x(!1),[i,o]=x(null),[l,c]=x(null),{setShowErrorDialog:a,setErrorDialogTitle:u,setErrorDialogText:g}=Qt,p={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{serverUrl:h,withCredentials:m}=W,{email:v,password:b,errorInEmail:y,errorInPassword:_}=on,{setLogged:k}=$e;let I=()=>{s(!1)};function S(){return!y()&&!_()}function T(C,N){if(C.response&&(C=C.response.data),C.code=="auth/popup-closed-by-user")return;u(N);let R=p[C.code];R?g(R):(g("Error code: "+C.code),console.error(C)),a(!0)}function A(){n(!0),F.post(h+"/server/signup",{email:v(),password:b(),newSetup:t.newSetup},{withCredentials:m}).then(function(C){C.data.code&&(o("Success"),c(C.data.code),I=()=>{n(!1),k(!0),t.next()},s(!0))}).catch(function(C){T(C,"Signup failed"),n(!1)})}return(()=>{const C=$b.cloneNode(!0),N=C.firstChild,R=N.firstChild,P=R.firstChild;return P.firstChild,d(N,f(ml,{submit:A}),R),P.$$click=A,d(P,f(bo,{get show(){return e()}}),null),d(C,f(ss,{}),null),d(C,f(z,{get when(){return r()},get children(){return f(gl,{get title(){return i()},get text(){return l()},callback:I})}}),null),E(D=>{const G={"bg-indigo-600":S(),"hover:bg-indigo-700":S(),"bg-gray-500":!S()},Q=!S();return D._v$=Dr(P,G,D._v$),Q!==D._v$2&&(P.disabled=D._v$2=Q),D},{_v$:void 0,_v$2:void 0}),C})()}j(["click"]);const Ib=w(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">In order to use our platform, you'll need to create an OakVar store account.</p><p class="mt-4">Simply enter your email and choose a password to get started.</p><p class="mt-4">Rest assured, your information is safe with us and will only be used for your OakVar experience and communication between us.</p></div></div></div></div>`);function Cb(t){const{serverUrl:n}=W;function r(){t.setPageNo(5)}return(()=>{const s=Ib.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild,c=l.firstChild;return c.nextSibling.nextSibling.nextSibling,d(l,f(Xt,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),c),V(c,"src",n+"/submit/images/logo.png"),d(l,f(Sb,{next:r,newSetup:!0}),null),E(()=>s.classList.toggle("hidden",t.pageNo!=3)),s})()}const Tb=w("<span>Change</span>"),Eb=w('<div><div class="mt-4"><label class="block text-sm font-semibold text-gray-700 underline decoration-dotted cursor-help"></label><div class="mt-1 flex rounded-md shadow-sm"><div class="relative flex flex-grow items-stretch focus-within:z-10"><input class="block w-full rounded-none rounded-l-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></div><button type="button" class="relative -ml-px inline-flex items-center space-x-2 rounded-r-md border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"></button></div><p class="mt-2 text-sm text-blue-400"></p></div></div>'),Ab=w("<span>Set</span>");function dn(t){const{serverUrl:e}=W,[n,r]=x(!0),[s,i]=x(null);let o=null;se(function(){!n()||l(t.dir)});function l(p){if(p==null)return"";F.get(e+"/submit/checkserverdir",{params:{dir:p}}).then(function(h){h.data.exists==!1?i("This directory will be created."):i(null)}).catch(function(h){ee(h)})}function c(p){t.setDir(p.target.value),p.keyCode==13&&r(!0)}function a(p){r(!n()),o.focus()}function u(p){t.setTooltipText(t.help),t.setTooltipTop(p.clientY),t.setTooltipShow(!0)}function g(p){t.setTooltipShow(!1)}return(()=>{const p=Eb.cloneNode(!0),h=p.firstChild,m=h.firstChild,v=m.nextSibling,b=v.firstChild,y=b.firstChild,_=b.nextSibling,k=v.nextSibling;m.addEventListener("mouseleave",g),m.addEventListener("mouseenter",u),d(m,()=>t.title);const I=o;return typeof I=="function"?Mr(I,y):o=y,y.$$keyup=c,_.$$click=a,d(_,f(z,{get when(){return n()},get fallback(){return Ab.cloneNode(!0)},get children(){return Tb.cloneNode(!0)}})),d(k,s),E(()=>y.disabled=n()),E(()=>y.value=t.dir),p})()}j(["keyup","click"]);const Nb=w(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">OakVar needs to store system configuration and data files. Don't worry, we've got your back with pre-selected default locations. If you need to make any adjustment, feel free to do so. And if everything looks good, just hit the "Start setup" button.</p><div class="mt-4 mb-4 flex"><div class="ml-4">A quick heads up about the modules directory - to get the most out of your OakVar experience, we recommend having at least 2GB of storage space available. And if you're planning on diving into some larger annotation modules, keep in mind that they can take up a substantial amount of space, potentially reaching over 100GB.</div></div><div class="mt-4"><button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Start setup</button></div></div></div></div></div>`);function Ob(t){const{serverUrl:n}=W,{email:r,password:s}=on,[i,o]=x(null),[l,c]=x(null),[a,u]=x(null),[g,p]=x(null),[h,m]=x(null),[v,b]=x(!1),[y,_]=x(0);se(function(){i()==null&&I(),l()==null&&S(),a()==null&&T(),g()==null&&A()});function k(C){C.preventDefault(),t.setSetupData({email:r(),pw:s(),root_dir:i(),modules_dir:l(),jobs_dir:a(),log_dir:g(),setupToStart:!0}),t.setPrevPageNo(5),t.setPageNo(6)}function I(){F.get(n+"/submit/rootdir").then(function(C){o(C.data.root_dir)}).catch(function(C){console.error(C)})}function S(){F.get(n+"/submit/modulesdir").then(function(C){c(C.data.modules_dir)}).catch(function(C){console.error(C)})}function T(){F.get(n+"/submit/jobsdir").then(function(C){u(C.data.jobs_dir)}).catch(function(C){console.error(C)})}function A(){F.get(n+"/submit/logdir").then(function(C){p(C.data.log_dir)}).catch(function(C){console.error(C)})}return(()=>{const C=Nb.cloneNode(!0),N=C.firstChild,R=N.firstChild,P=R.firstChild,D=P.firstChild,G=D.nextSibling,Q=G.nextSibling,te=Q.firstChild,Z=Q.nextSibling,K=Z.firstChild;return d(P,f(Xt,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),D),V(D,"src",n+"/submit/images/logo.png"),d(Q,f(Nu,{class:"inline",size:"28",color:"#fb923c"}),te),d(P,f(dn,{title:"System root directory",get dir(){return i()},setDir:o,setTooltipShow:b,setTooltipText:m,setTooltipTop:_,help:"OakVar system files will be created in this directory. By default, directories for configuration, modules, and jobs will be created under this directory. However, each of them can be assigned to a different location using the input boxes following this one."}),Z),d(P,f(dn,{title:"Modules directory",get dir(){return l()},setDir:c,setTooltipShow:b,setTooltipText:m,setTooltipTop:_,help:"OakVar is a modular system. Conversion, mapping, annotation, and reporting are done by modules. Among OakVar system files, module files are the biggest, which can take up to hundreds of GB according to your choice."}),Z),d(P,f(dn,{title:"Jobs directory",get dir(){return a()},setDir:u,setTooltipShow:b,setTooltipText:m,setTooltipTop:_,help:"Jobs will be stored in this directory"}),Z),d(P,f(dn,{title:"Log directory",get dir(){return g()},setDir:p,setTooltipShow:b,setTooltipText:m,setTooltipTop:_,help:"System logs will be stored in this directory"}),Z),K.$$click=k,d(C,f(Vr,{get text(){return h()},get tooltipShow(){return v()},get tooltipTop(){return y()}}),null),E(()=>C.classList.toggle("hidden",t.pageNo!=5)),C})()}j(["click"]);const Rb=w(`<div class="mt-4 w-full flex items-center justify-center flex flex-col"><div><p class="mt-4">Congratulations, you're now ready to start using OakVar!</p><p class="mt-4">All the setup is finished and it's time to dive into the exciting world of genetics.</p><p class="mt-4">Simply click the button below and let the journey begin!</p></div><button type="button" class="mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Enter OakVar!</button></div>`),Pb=w('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full h-full p-4 md:inset-0 flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm p-6"><div class="px-6 py-6 lg:px-8"><img class="h-28"></div></div></div></div>'),Db=w(`<div><p class="mt-4">We're getting OakVar all set up for you!</p><p class="mt-4">Just sit back and relax for a moment while we take care of everything.</p><p class="mt-4">We'll let you know as soon as we're ready for you.</p><div class="mt-4 w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"><div class="bg-blue-600 h-2.5 rounded-full"></div></div><p class="mt-2"></p><div class="mt-4 text-xs p-6 h-[24rem] overflow-auto font-mono whitespace-pre"><div class="relative"><div></div></div></div></div>`),Mb=w("<p></p>");function Lb(t){const{systemMsg:n,setSystemMsg:r}=ao,{serverUrl:s,withCredentials:i}=W,{getSetupStageMsg:o,setSetupStateMsg:l}=co,[c,a]=It([]),[u,g]=x(0);let p=null,h=0,m=0,v=null;se(function(){t.setupData&&t.setupData.setupToStart==!0&&(t.setSetupData({...t.setupData,setupToStart:!1}),b()),n()!=null&&(a([...c,...n()]),r(null),setTimeout(function(){p.scrollTo(0,99999)},100));const _=o();if(_!=v)if(v=_,_=="Logging in...")g(10);else if(_=="Setting up store cache...")g(20);else if(_=="Setting up administrative database...")g(50);else if(_=="Installing system modules...")g(60);else if(_.startsWith("Installed")||_.includes("already exists")){m+=1;const k=60+m/h*40;g(k)}else _=="Done setting up the system."&&g(100)});function b(){m=0,v=null,l(""),F.get(s+"/submit/basemodules",{withCredentials:i}).then(function(_){h=_.data.length,F.post(s+"/submit/startsetup",t.setupData,{withCredentials:i}).then(function(k){}).catch(function(k){ee(k)})}).catch(function(_){ee(_)})}function y(){window.location.reload()}return(()=>{const _=Pb.cloneNode(!0),k=_.firstChild,I=k.firstChild,S=I.firstChild,T=S.firstChild;return d(S,f(Xt,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),T),V(T,"src",s+"/submit/images/logo.png"),d(S,f(z,{get when(){return u()==100},get fallback(){return(()=>{const A=Db.cloneNode(!0),C=A.firstChild,N=C.nextSibling,R=N.nextSibling,P=R.nextSibling,D=P.firstChild,G=P.nextSibling,Q=G.nextSibling,te=Q.firstChild,Z=te.firstChild;d(G,o);const K=p;return typeof K=="function"?Mr(K,Q):p=Q,d(Z,f(oe,{each:c,children:H=>(()=>{const _e=Mb.cloneNode(!0);return d(_e,()=>H.msg),_e})()})),E(()=>D.style.setProperty("width",u()+"%")),A})()},get children(){const A=Rb.cloneNode(!0),C=A.firstChild,N=C.nextSibling;return N.$$click=y,A}}),null),E(()=>_.classList.toggle("hidden",t.pageNo!=6)),_})()}j(["click"]);const Ub=w('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full"></div>');function jb(){const[t,e]=x(1),[n,r]=x(1),[s,i]=It({});return(()=>{const o=Ub.cloneNode(!0);return d(o,f(mb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),d(o,f(bb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),d(o,f(Cb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),d(o,f(kb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),d(o,f(Ob,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),d(o,f(Lb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:s,setSetupData:i}),null),o})()}function Fb(){const{serverUrl:t}=W,{logged:e,setLogged:n}=$e,{multiuser:r,setMultiuser:s}=De,{setAppLoading:i}=Ln,{systemSetupNeeded:o}=Zi;s(null),n(null),se(function(){r()==null&&c(),r()==!0&&e()==null&&a(),r()!=null&&e()!=null&&i(!1)});function l(){F.get(t+"/server/deletetoken").then(function(){}).catch(function(u){ee(u)})}function c(){F.get(t+"/submit/servermode").then(function(u){s(u.data.servermode),r()||(l(),n(!0))}).catch(function(u){ee(u)})}function a(){F.get(t+"/submit/loginstate").then(function(u){n(u.data.loggedin)}).catch(function(u){ee(u)})}return[f(z,{get when(){return!o()},get fallback(){return f(jb,{})},get children(){return[f(fb,{}),f(ub,{})]}}),f(ss,{})]}Kl(()=>f(Fb,{}),document.getElementById("root"));
